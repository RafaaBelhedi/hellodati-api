(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{135:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},153:function(e,t,a){e.exports=a(451)},158:function(e,t,a){},160:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},161:function(e,t,a){},162:function(e,t,a){},170:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},191:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){},364:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},377:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){},445:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(36),i=a.n(r),l=(a(158),a(1)),c=a.n(l),o=a(9),u=a(10),m=a(2),h=a(3),p=a(5),d=a(4),v=a(7),E=a(6),g=(a(160),a(161),"https://apitndati.com/v003/public/");function f(e){var t,a,n,s=arguments;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2&&void 0!==s[2]?s[2]:"GET",n=JSON.parse(localStorage.getItem("user")).access_token||"",JSON.parse(localStorage.getItem("user")).refresh_token||"",r.abrupt("return",fetch("".concat(g).concat(e).concat(y(t)),{method:a,headers:{Authorization:"Bearer "+n,"Access-Control-Allow-Origin":"*",Accept:"*/*"}}).then((function(e){return e.json()})).catch((function(e){return{error:e}})));case 5:case"end":return r.stop()}}))}function b(e){var t,a,n,s=arguments;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2&&void 0!==s[2]?s[2]:"POST",n=JSON.parse(localStorage.getItem("user")).access_token||"",JSON.parse(localStorage.getItem("user")).refresh_token||"",r.abrupt("return",fetch("".concat(g).concat(e),{method:a,headers:{Accept:"*/*","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+n},body:t}).then((function(e){return e.json()})).catch((function(t){return console.log(t,e),{error:t}})));case 5:case"end":return r.stop()}}))}function y(e){return"?"+Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")}var x=s.a.createContext(localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{auth:!1}),_=(s.a.createContext(localStorage.getItem("hotel")?JSON.parse(localStorage.getItem("hotel")):{hotel:null}),a(162),a(28)),O=a(29),k=a(12),j=a(11),N=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={services:[],expand:!1},n.logOut=n.logOut.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("posts",{hotel_id:this.props.user.hotel_id[0]||44,parent_id:null}));case 2:return e=a.sent,a.next=5,c.a.awrap(f("posts",{hotel_id:this.props.user.hotel_id[0]||44,parent_id:e.data[0].id}));case 5:t=a.sent,this.setState({services:t.data});case 7:case"end":return a.stop()}}),null,this)}},{key:"logOut",value:function(){this.props.logOut()}},{key:"render",value:function(){var e=this;return s.a.createElement("nav",null,s.a.createElement("div",{className:"img-container"},s.a.createElement("img",{src:"/img/login/login-logo.png"})),s.a.createElement("ul",{className:"dashboard-sidebar"},s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/sidebar/menu.svg",className:"svg-icon",id:"svg-icon-dashboard"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/"},s.a.createElement("p",{style:{color:"white"}},"DASHBOARD"))),s.a.createElement("li",{className:"sidebar-item",onClick:function(){return e.setState({expand:!e.state.expand})}},s.a.createElement(k.a,{src:"/img/sidebar/hand.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/service"},s.a.createElement("p",null,"SERVICES"))),s.a.createElement("li",{className:this.state.expand?"expanded hotel-services":"hotel-services"},s.a.createElement("ul",null,this.state.services.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement(j.c,{activeClassName:"active-link",to:"/service/"+e.id},s.a.createElement("p",null,e.title)))})))),s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/sidebar/phone.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/devices"},s.a.createElement("p",null,"DEVICES"))),s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/sidebar/client.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/tourist"},s.a.createElement("p",null," GUESTS"))),s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/sidebar/room.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/rooms"},s.a.createElement("p",null," ROOMS"))),3==this.context.role?s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/sidebar/hotel.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/hotels"},s.a.createElement("p",null," HOTELS"))):null,s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/sidebar/man.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/employees"},s.a.createElement("p",null,"EMPLOYEES"))),s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/sidebar/stats.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/statistics"},s.a.createElement("p",null,"STATISTICS"))),s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/ui/notifications.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/notifications"},s.a.createElement("p",{className:"notification_style"},"NOTIFICATIONS"))),s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/ui/historique.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/history"},s.a.createElement("p",null,"HISTORY"))),3==this.context.role?s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/ui/hot-air-balloon.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/extra/28"},s.a.createElement("p",null,"CITY GUIDE"))):"",s.a.createElement("li",{className:"sidebar-item"},s.a.createElement(k.a,{src:"/img/ui/chat.svg",className:"svg-icon"}),s.a.createElement(j.c,{activeClassName:"active-link",to:"/chat"},s.a.createElement("p",null,"CHAT")))),s.a.createElement("div",{className:"logout-container"},s.a.createElement("p",{onClick:this.logOut},s.a.createElement(_.a,{color:"red",icon:O.c,rotation:180})," Log Out")))}}]),t}(n.Component);N.contextType=x;var S=N,C=(a(170),a(171),a(172),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"oreder-container",onClick:this.props.isSeen(this.props.reser.id),key:this.props.reser.id},s.a.createElement("div",{className:"logo-container"},s.a.createElement("img",{src:"/img/header/commande.png",style:{height:"32px",width:"32px"}})),s.a.createElement("div",{className:"details-container"},s.a.createElement("div",{className:"tourist-name"},this.props.reser.tourist_full_name),s.a.createElement("div",{className:"type-order"}," ",this.props.reser.post.title,s.a.createElement("span",{style:{color:"red"}},this.props.reser.qt>1?"(x"+this.props.reser.qt+")":""))),s.a.createElement("div",{className:"time-container"}," 2 min ago "))}}]),t}(n.Component)),w=(a(173),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"reservation-container",onClick:this.props.isSeen(this.props.reser.id),key:this.props.reser.id},s.a.createElement("div",{className:"logo-container"},s.a.createElement("img",{src:"/img/header/reservation.png",style:{height:"32px",width:"32px"}})),s.a.createElement("div",{className:"details-container"},s.a.createElement("div",{className:"tourist-name"},this.props.reser.tourist_full_name),s.a.createElement("div",{className:"type-order"}," ",this.props.reser.post.title,s.a.createElement("span",{style:{color:"red"}},this.props.reser.qt>1?"(x"+this.props.reser.qt+")":""))),s.a.createElement("div",{className:"time-container"}," 2 min ago "))}}]),t}(n.Component)),D=(a(174),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={historyItems:[]},a.handleClick=a.handleClick.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("shopping_orders",{hotel_id:this.context.hotel_id[0]}));case 2:e=t.sent,console.log(e,"historyItemsCurrentHotel"),this.setState({historyItems:e.data.filter((function(e){return 1==e.status})).map((function(e){return Object(u.a)({},e,{show:!1})}))});case 5:case"end":return t.stop()}}),null,this)}},{key:"handleClick",value:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,"hawl'id"),t.next=3,c.a.awrap(f("shopping_order/"+e,{seen:1},"PUT"));case 3:case"end":return t.stop()}}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"list-notification-container"},s.a.createElement("div",{className:"title-notif"},"Notification"),s.a.createElement("div",{className:"notif-box"},console.log(this.state.historyItems,"lin bech naamel 0 w 1"),this.state.historyItems.map((function(t){return 0==t.reservation?s.a.createElement(C,{reser:t,isSeen:e.handleClick}):s.a.createElement(w,{reser:t,isSeen:e.handleClick})}))),s.a.createElement("div",{className:"view-all",onClick:function(e){return window.location.href="/history"}},s.a.createElement("p",null,"view all")))}}]),t}(n.Component));D.contextType=x;var T=D,I=a(31),M=a.n(I),P=a(52),A=(a(177),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"msg-room-container"},s.a.createElement("div",{className:"logo-msg-room"},s.a.createElement("img",{src:"/img/header/maint.png",style:{height:"32px",width:"32px"}})),s.a.createElement("div",{className:"message-container"},this.props.tourists.map((function(t){return t.id==e.props.msgm.sender?s.a.createElement("div",{className:"tourist-name"}," ",t.nom):""})),s.a.createElement("div",{className:"type-order"}," ",this.props.msgm.message," ")),s.a.createElement("div",{className:"time-message"}," ",this.props.msgm.time," "))}}]),t}(n.Component)),B=(a(178),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"msg-room-container"},s.a.createElement("div",{className:"logo-msg-room"},s.a.createElement("img",{src:"/img/header/room.png",style:{height:"32px",width:"32px"}})),s.a.createElement("div",{className:"message-container"},this.props.tourists.map((function(t){return t.id==e.props.msgr.sender?s.a.createElement("div",{className:"tourist-name"}," ",t.nom):""})),s.a.createElement("div",{className:"type-order"}," ",this.props.msgr.message," ")),s.a.createElement("div",{className:"time-message"}," ",this.props.msgr.time,"  "))}}]),t}(n.Component)),R=(a(179),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"msg-room-container"},s.a.createElement("div",{className:"logo-msg-room"},s.a.createElement("img",{src:"/img/header/restau.png",style:{height:"32px",width:"32px"}})),s.a.createElement("div",{className:"message-container"},this.props.tourists.map((function(t){return t.id==e.props.msgre.sender?s.a.createElement("div",{className:"tourist-name"}," ",t.nom):""})),s.a.createElement("div",{className:"type-order"},"  ",this.props.msgre.message,"  ")),s.a.createElement("div",{className:"time-message"}," ",this.props.msgre.time," "))}}]),t}(n.Component)),U=(a(180),a(16));U.initializeApp({apiKey:"AIzaSyA7FawHe1OFeI2zPNHoymPMKWcFmXY2kgo",authDomain:"hellodatichatapp.firebaseapp.com",databaseURL:"https://hellodatichatapp.firebaseio.com",projectId:"hellodatichatapp",storageBucket:"hellodatichatapp.appspot.com",messagingSenderId:"21712624060",appId:"1:21712624060:web:6d0a4b7cdc7ff5996a73b9"});var F=function(e){function t(e){var a,n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state=(a={gotData:function(e){var t=e.val();n.setState({users:Object.keys(t).map((function(e){return t[e]}))})},users:[],gotInfo:function(e){var t=e.val();console.log(t,"hhhh"),n.setState({chats:Object.keys(t).map((function(e){return t[e]}))})},chats:[]},Object(P.a)(a,"gotData",(function(e){var t=e.val();console.log(t,"hhhh"),n.setState({tourists:Object.keys(t).map((function(e){return t[e]}))})})),Object(P.a)(a,"tourists",[]),a),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return function(e){console.log("Error!")},e=function(e){console.log("Error!")},U.database().ref("Users").on("value",this.state.gotData,e),U.database().ref("Chats").on("value",this.state.gotInfo,e),t.next=6,c.a.awrap(U.database().ref("Tourists").on("value",this.state.gotData,e));case 6:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.chats.reduce((function(e,t){return e[t.sender]=e[t.sender]||{data:[]},e[t.sender].data.push({sender:t.sender,message:t.message,time:t.time,receiver:t.receiver,hotel_id:t.hotel_id}),e[t.sender].data.sort((function(e,t){return new Date(t.time)-new Date(e.time)})),e}),{}),a=Object.values(t).map((function(e){return e.data[0]}));console.log("List messages:",a);var n=a.reduce((function(t,a){return"OX0pReHXfXUTq1XnOnTSX7moiGp2"==a.receiver&&a.hotel_id==e.context.hotel_id[0]&&t.push(a),t}),[]),r=a.reduce((function(t,a){return"e7NsTkSI4icHXC6c4iygbStk2Ja2"==a.receiver&&a.hotel_id==e.context.hotel_id[0]&&t.push(a),t}),[]),i=a.reduce((function(t,a){return"lIZmNj75abRwLDO69sCgq5eZBkC2"==a.receiver&&a.hotel_id==e.context.hotel_id[0]&&t.push(a),t}),[]);return console.log(this.state.users,"usersmessage!!"),console.log(i,"messageRestaurant!!"),console.log(this.state.chats,"chatsmessage!!"),console.log(this.state.tourists,"chatsmessagetourists!!"),s.a.createElement("div",{className:"list-message-container"},s.a.createElement("div",{className:"title-msg"},"Message"),s.a.createElement("div",{className:"msg-box"},n.map((function(t){return s.a.createElement(B,{msgr:t,tourists:e.state.tourists})})),r.map((function(t){return s.a.createElement(A,{msgm:t,tourists:e.state.tourists})})),i.map((function(t){return s.a.createElement(R,{msgre:t,tourists:e.state.tourists})}))),s.a.createElement("div",{className:"view-all-msg",onClick:function(e){return window.location.href="/chat"}},s.a.createElement("p",null,"view all")))}}]),t}(n.Component);F.contextType=x;var L=F,z=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={hotels:[],display:!1,historyItems:[],countChat:"3",countMsg:"6",show:!1,gotInfo:function(e){var t=e.val();n.setState({chats:Object.keys(t).map((function(e){return t[e]}))})},chats:[]},n.toggle=n.toggle.bind(Object(v.a)(n)),n.handel=n.handel.bind(Object(v.a)(n)),n.handleOutsideClick=n.handleOutsideClick.bind(Object(v.a)(n)),n.handleOutsideClickMsg=n.handleOutsideClickMsg.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"toggle",value:function(){this.state.display?document.removeEventListener("click",this.handleOutsideClick,!1):document.addEventListener("click",this.handleOutsideClick,!1),this.setState({display:!this.state.display})}},{key:"handel",value:function(){this.state.show?document.removeEventListener("click",this.handleOutsideClickMsg,!1):document.addEventListener("click",this.handleOutsideClickMsg,!1),this.setState({show:!this.state.show})}},{key:"handleOutsideClick",value:function(e){this.node.contains(e.target)||this.toggle()}},{key:"handleOutsideClickMsg",value:function(e){this.nodeMsg.contains(e.target)||this.handel()}},{key:"componentDidMount",value:function(){var e,t,a=this;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(3!=this.context.role){n.next=6;break}return n.next=3,c.a.awrap(f("hotels"));case 3:e=n.sent,this.setState({hotels:e.data}),this.setState({hotels:[].concat(Object(o.a)(this.state.hotels.filter((function(e){return e.id==a.context.hotel_id[0]}))),Object(o.a)(this.state.hotels))});case 6:return n.next=8,c.a.awrap(f("shopping_orders",{hotel_id:this.context.hotel_id[0]}));case 8:t=n.sent,setInterval((function(){a.setState({historyItems:t.data.filter((function(e){return 1==e.status})).map((function(e){return Object(u.a)({},e,{show:!1})}))})}),500),U.database().ref("Chats").on("value",this.state.gotInfo);case 11:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){for(var e=this,t=this.props.hotel,a=this.props.post,n=[],r=0;r<t.stars;r++)n.push(s.a.createElement(_.a,{color:"#ffde66",icon:O.d}));return s.a.createElement("div",{className:"topbar"},s.a.createElement("div",{className:"topbar-posts"},s.a.createElement("input",{placeholder:"Search..."})),s.a.createElement("div",{className:"topbar-hotel"},s.a.createElement("div",{onClick:this.toggle,className:"list-notification"},s.a.createElement(k.a,{className:"svg-icon",src:"/img/header/notif.svg"}),s.a.createElement("div",{className:"notif"},s.a.createElement(M.a,{count:this.state.historyItems.filter((function(e){return!e.seen})).length,effect:I.Effect.SCALE})),1==this.state.display?s.a.createElement("div",{className:"list-notification-position",ref:function(t){e.node=t}},s.a.createElement(T,null)):null),s.a.createElement("div",{onClick:this.handel,className:"chat-list"},s.a.createElement(k.a,{className:"svg-icon",src:"/img/header/chat.svg"}),s.a.createElement("div",{className:"notif"},s.a.createElement(M.a,{count:this.state.chats.filter((function(e){return"OX0pReHXfXUTq1XnOnTSX7moiGp2"!==e.sender&&"e7NsTkSI4icHXC6c4iygbStk2Ja2"!==e.sender&&"lIZmNj75abRwLDO69sCgq5eZBkC2"!==e.sender&&"false"==e.isseen})).length,effect:I.Effect.SCALE})),1==this.state.show?s.a.createElement("div",{className:"list-msg-position",ref:function(t){e.nodeMsg=t}},s.a.createElement(L,null)):null),s.a.createElement("img",{className:"hotel-icon",src:a.cover}),s.a.createElement("div",{className:"hotel-desc"},3==this.context.role?s.a.createElement("select",{onInput:function(t){return e.props.changeUser(e.context,t.target.value).then((function(){return window.location.reload()}))}},this.state.hotels.map((function(e){return s.a.createElement("option",{value:e.id},e.hotel_name)}))):s.a.createElement("p",null,t.hotel_name),n)))}}]),t}(n.Component);z.contextType=x;var G=z,H=(a(191),a(21)),q=(a(192),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={titleMenu:"",services:[],service:[]},a.componentsHandler=a.componentsHandler.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentsHandler",value:function(e){switch(e){case"/":this.setState({titleMenu:"HOME"});break;case"/service":this.setState({titleMenu:"SERVICES"});break;case"/devices":case"/devices":this.setState({titleMenu:"DEVICES"});break;case"/tourist":this.setState({titleMenu:"GUESTS"});break;case"/rooms":this.setState({titleMenu:"ROOMS"});break;case"/hotels":this.setState({titleMenu:"HOTELS"});break;case"/employees":this.setState({titleMenu:"EMPLOYEES"});break;case"/statistics":this.setState({titleMenu:"STATISTICS"});break;case"/notifications":this.setState({titleMenu:"NOTIFICATIONS"});break;case"/history":this.setState({titleMenu:"HISTORY"});break;case"/chat":this.setState({titleMenu:"CHAT"})}}},{key:"componentDidMount",value:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return this.componentsHandler(this.props.location.pathname),n.next=3,c.a.awrap(f("posts",{hotel_id:this.context.hotel_id[0]||44,parent_id:null}));case 3:return e=n.sent,n.next=6,c.a.awrap(f("posts",{hotel_id:this.context.hotel_id[0]||44,parent_id:e.data[0].id}));case 6:return t=n.sent,this.setState({services:t.data}),n.next=10,c.a.awrap(f("posts",{hotel_id:this.context.hotel_id[0]||44,parent_id:t.data[0].id}));case 10:a=n.sent,this.setState({service:a.data});case 12:case"end":return n.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.componentsHandler(this.props.location.pathname)}},{key:"render",value:function(){var e=this.props.location.pathname.split("/"),t=(e[1],e[2]),a=this.props;a.match,a.location,a.history,this.props.hotel;return s.a.createElement("div",{className:"botbar"},s.a.createElement("p",{className:"titleMenu"},this.state.titleMenu," >",this.state.services.filter((function(e){return"/service/"+e.id=="/service/"+t})).map((function(e){return e.title.toUpperCase()})),this.state.service.filter((function(e){return"/restaurant/"+e.id=="/restaurant/"+t})).map((function(e){return e.title.toUpperCase()}))))}}]),t}(n.Component));q.contextType=x;var V=Object(H.g)(q),K=(a(320),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={post:{image:""},hotel:{},services:[],backgroundImage:""},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(this.props.user),n.next=3,c.a.awrap(f("posts",{hotel_id:this.props.user.hotel_id[0],parent_id:null}));case 3:return e=n.sent,n.next=6,c.a.awrap(f("hotel/"+this.props.user.hotel_id[0]));case 6:return t=n.sent,n.next=9,c.a.awrap(f("posts",{hotel_id:this.props.user.hotel_id[0],parent_id:e.data[0].id}));case 9:return a=n.sent,n.next=12,c.a.awrap(this.setState({services:a.data[0]}));case 12:return n.next=14,c.a.awrap(this.setState({hotel:t.data[0]}));case 14:return n.next=16,c.a.awrap(this.setState({post:e.data[0]}));case 16:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("header",{style:{backgroundImage:"url(http://apitndati.com/v003/public/uploads/tourist_images/rvpdtaycwU63BNEdIO40GtT2uMtryihSJTPGbaCu.png )"}},s.a.createElement(G,{changeUser:this.props.changeUser,post:this.state.post,hotel:this.state.hotel}),s.a.createElement(V,{hotel:this.state.hotel,post:this.state.post,services:this.state.services}))}}]),t}(n.Component)),W=Object(H.g)(K),Y=(a(321),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).reset=function(){f("password/request",{email:n.state.email},"POST")},n.state={client_id:"2",client_secret:"M3yqDxlXh6DQ1jXZiGMByByG1W4P2AT5NFixHQxu",email:"",password:"",buttonText:"Valider",user:n.context,response:0},n.abortCtrl=new AbortController,n.changePassword=n.changePassword.bind(Object(v.a)(n)),n.changeEmail=n.changeEmail.bind(Object(v.a)(n)),n.attemptLogin=n.attemptLogin.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"attemptLogin",value:function(e){var t=this;e.preventDefault(),this.setState({error:!1}),this.setState({loading:!0,buttonText:"Logging in..."}),fetch("https://apitndati.com/v003/public/auth/login?client_id=".concat(this.state.client_id,"&client_secret=").concat(this.state.client_secret,"&password=").concat(this.state.password,"&email=").concat(this.state.email),{method:"POST",headers:{Accept:"*/*","Access-Control-Allow-Origin":"*"},signal:this.abortCtrl.signal}).then((function(e){return e.json()})).then((function(e){if(!e.message)return t.setState({buttonText:"You will be redirected shortly"}),t.setState({user:Object(u.a)({},t.state.user,{},e)}),t.setState({user:Object(u.a)({},t.state.user,{auth:!0})}),fetch("https://apitndati.com/v003/public/auth/privileges",{headers:{Accept:"*/*","Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(t.state.user.access_token)}});t.setState({buttonText:e.message,loading:!1,error:!0})})).then((function(e){return e.json()})).then((function(e){t.setState({user:Object(u.a)({},t.state.user,{},e)}),localStorage.setItem("user",JSON.stringify(t.state.user)),setTimeout((function(){return t.props.changeUser(t.state.user)}),1e3)})).catch((function(e){t.setState({buttonText:"Error. Try again",loading:!1,error:!0}),console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.abortCtrl.abort()}},{key:"changePassword",value:function(e){this.setState({password:e.target.value})}},{key:"changeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:"fluid-container login-container"},s.a.createElement("img",{src:"/img/login/login-logo.png"}),s.a.createElement("div",{className:"dots",style:{magin:"5px"}},s.a.createElement("div",{className:"dot"}),s.a.createElement("div",{className:"dot"}),s.a.createElement("div",{className:"dot"})),s.a.createElement("form",{action:"#",onSubmit:this.attemptLogin,className:"login-form text-center container"},s.a.createElement("input",{required:!0,type:"email",onInput:this.changeEmail,className:"col-md-2 col-sm-12",id:"username",placeholder:"E-Mail"}),s.a.createElement("input",{required:!0,onInput:this.changePassword,className:"col-md-2 col-sm-12",id:"password",type:"password",placeholder:"Password"}),s.a.createElement("div",null,s.a.createElement("button",{style:{color:this.state.error?"red":"#f7e200"},type:"submit",className:"col-12"},this.state.loading?s.a.createElement("span",{style:{color:"white"},className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):s.a.createElement("img",{src:"/img/login/login-validate.png"}),this.state.buttonText))),s.a.createElement("a",{onClick:this.reset},"Password Reset"))}}]),t}(n.Component));Y.contextType=x;var Z=Y,J=(a(322),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={check:a.props.check,id:a.props.id},a.check=a.check.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"check",value:function(){var e=this;f((this.props.extra?"extra_post":"post")+"/"+this.state.id,{state:this.state.check?0:1},"PUT",!0).then((function(t){t.data&&e.setState({check:1==t.data[0].state})})),console.log(this.state)}},{key:"render",value:function(){return s.a.createElement("div",{className:"flipswitch"},s.a.createElement("input",{type:"checkbox",name:"flipswitch",className:"flipswitch-cb",checked:this.state.check}),s.a.createElement("label",{onClick:this.check,className:"flipswitch-label"},s.a.createElement("div",{className:"flipswitch-inner"}),s.a.createElement("div",{className:"flipswitch-switch"})))}}]),t}(n.Component)),X=(a(323),a(30)),$=function(e){function t(e){var a;switch(Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={redirect:!1,image:"/img/services/restaurant.png"},a.props.service.layout_xml_template){case 1:a.state={image:"/img/services/restaurant.png"};break;case 2:a.state={image:"/img/services/Boisson.png"};break;case 3:a.state={image:"/img/services/loisir.png"};break;case 4:a.state={image:"/img/services/Gallerie.png"};break;case 5:a.state={image:"/img/services/reunion.png"};break;case 6:a.state={image:"/img/services/Contact.png"};break;case 7:a.state={image:"/img/services/evenement.png"};break;case 8:a.state={image:"/img/services/bien_etre.png"};break;case 9:a.state={image:"/img/services/weather.png"};break;case 10:a.state={image:"/img/services/prayer.png"};break;case 11:a.state={image:"/img/services/conceirge.png"};break;default:a.state={image:a.props.service.image}}return a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.service.layout_xml_template,"rrrr"),this.state.redirect?s.a.createElement(H.a,{to:"/service/"+this.props.service.id}):s.a.createElement("div",{onClick:function(){return e.setState({redirect:!0})},style:{backgroundImage:"url(".concat(1==this.props.service.layout_xml_template?"/img/services/restaurant.png":this.state.image,")")},class:"service-card"},s.a.createElement("div",{style:{color:"#"+this.props.service.title_color},className:"service-name"},this.props.service.title),s.a.createElement("div",{className:"service-Edit"},s.a.createElement("div",{className:"service-info"},s.a.createElement(k.a,{src:"/img/services/vue.svg"}),s.a.createElement("p",null,this.props.service.nbr_views," Views")),s.a.createElement("div",{className:"edit_Button"},s.a.createElement("div",{className:"edit_image"},s.a.createElement(j.b,{to:"/edit/service/"+this.props.service.id},s.a.createElement("img",{src:"/img/ui/editService.png",style:{width:"32px"}}))),s.a.createElement("div",{className:"switch-edit"},s.a.createElement(J,{id:this.props.id,check:this.props.check})))))}}]),t}(n.Component),Q=(a(324),a(325),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("button",{className:"add-button",style:this.props.style},s.a.createElement(j.b,{to:"/add/"+this.props.link+"/"+this.props.id+"?return="+encodeURIComponent(this.props.return)},this.props.children))}}]),t}(n.Component)),ee=function(e){function t(e,a){var n;return Object(m.a)(this,t),n=Object(p.a)(this,Object(d.a)(t).call(this,e,a)),console.log(n.context),n.state={services:[{parent_id:1}],check:!1,redirect:!1},n.check=n.check.bind(Object(v.a)(n)),n.delete=n.delete.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"delete",value:function(e){this.setState({services:this.state.services.filter((function(t){return t.id!=e}))})}},{key:"check",value:function(){this.setState({check:!this.state.check})}},{key:"componentDidMount",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("posts",{hotel_id:this.context.hotel_id[0],parent_id:null}));case 2:return e=a.sent,console.log(e,"Current hotel info"),a.next=6,c.a.awrap(f("posts",{hotel_id:this.context.hotel_id[0],parent_id:e.data[0].id}));case 6:t=a.sent,this.setState({services:t.data});case 8:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",{className:"content"},s.a.createElement(Q,{link:"service",id:this.state.services[0].parent_id,return:window.location.href,services:this.state.services,style:{width:" 24%",height:" 130px",border:"1px dashed #7a8da1",marginLeft:"-2px"}},s.a.createElement(k.a,{src:"/img/restaurant/plus.svg"}),s.a.createElement("p",null,"Add")),this.state.services.map((function(e,t){return s.a.createElement($,{service:e,id:e.id,check:1==e.state,index:t})})))}}]),t}(n.Component);ee.contextType=x;var te=ee,ae=(a(326),function(e){function t(e,a){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e,a))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return console.log(this.props.device),s.a.createElement("div",{className:"device-card"},s.a.createElement("div",{className:"device-details"},s.a.createElement("p",null,"IMEI: ",this.props.device.imei," / Room: ",this.props.device.device_room.room.room_number," / "),s.a.createElement("p",null,"Customer: ",this.props.device.device_room.stay.tourist.name," /"),3==this.context.role&&s.a.createElement("p",null,"Hotel ID: ",this.props.device.hotel_id),s.a.createElement("p",{style:{color:0==this.props.device.status?"red":"green"}},s.a.createElement("span",{style:{backgroundColor:0==this.props.device.status?"red":"green"}}),"   ",0==this.props.device.status?"Inactive":"Active")),s.a.createElement("div",{className:"device-button"},s.a.createElement(j.b,{to:"/edit/device/"+this.props.device.id},s.a.createElement("button",null,"Edit"))))}}]),t}(n.Component));ae.contextType=x;var ne=ae,se=(a(327),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={devices:[],redirect:!1},console.log(e,"propsdevices"),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("devices"));case 2:e=t.sent,this.setState({devices:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"componentDidCatch",value:function(){}},{key:"setWidth",value:function(){return 3!=this.context.role?"100%":"90%"}},{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(H.a,{to:"/add/device"}):s.a.createElement("div",{style:{justifyContent:"space-between"},className:"devices-container"},s.a.createElement("div",{className:"device-header"},s.a.createElement("p",null,s.a.createElement("span",null),this.state.devices.filter((function(e){return 0!=e.status})).length," Active Devices"),s.a.createElement("p",null,s.a.createElement("span",null),this.state.devices.filter((function(e){return 0==e.status})).length," Inactive Devices")),s.a.createElement("div",{className:"test"},s.a.createElement("div",{className:"device-search",style:{width:this.setWidth()}},s.a.createElement("p",null,"Search for a device"),s.a.createElement("div",{className:"inputs"},s.a.createElement("input",{placeholder:"IMEI",onChange:function(t){return e.setState({imei:t.target.value})}}),s.a.createElement("input",{placeholder:"Room Number",onChange:function(t){return e.setState({room:t.target.value})}}),s.a.createElement("input",{placeholder:"Customer Name",onChange:function(t){return e.setState({customer:t.target.value})}}))),3==this.context.role?s.a.createElement("div",{className:"lien",onClick:function(){return e.setState({redirect:!0})}},s.a.createElement("img",{src:"/img/ui/ajouter_client.png",alt:"image"}),s.a.createElement(j.b,{to:"/add/device"},"Add Device")):""),s.a.createElement("div",{className:"device-list"},this.state.devices.filter((function(t){return new RegExp(e.state.imei).test(t.imei)})).filter((function(t){return new RegExp(e.state.room).test(t.device_room.room.room_number)})).filter((function(t){return new RegExp(e.state.customer,"i").test(t.device_room.stay.tourist.name)})).map((function(e){return s.a.createElement(ne,{device:e})}))))}}]),t}(n.Component));se.contextType=x;var re=se,ie=(a(328),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"onDelete",value:function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("tourist/"+e,"DELETE"));case 2:t=a.sent,console.log(t),console.log("tourist delete");case 5:case"end":return a.stop()}}))}},{key:"render",value:function(){return console.log(this.props.device),s.a.createElement("div",{className:"tourist-card"},s.a.createElement("div",{className:"tourist-details"},s.a.createElement("p",null,this.props.tourist.first_name," ",this.props.tourist.last_name," "),s.a.createElement("p",null,"Device Num: ",this.props.tourist.stay.device_room.device.imei,"/Room: ",this.props.tourist.stay.device_room.room.room_number," ")),s.a.createElement("div",{className:"tourist-button"},s.a.createElement(j.b,{to:"/edit/tourist/"+this.props.tourist.id},s.a.createElement("button",null,"Edit"))))}}]),t}(n.Component));ie.contextType=x;var le=ie,ce=(a(329),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={tourists:[],devices:[],redirect:!1},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("tourists",{hotel_id:this.context.hotel_id[0]}));case 2:e=t.sent,this.setState({tourists:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(H.a,{to:"/add/tourist"}):s.a.createElement("div",{style:{justifyContent:"space-between"},className:"tourist-container"},s.a.createElement("div",{className:"tourist-search-header"},s.a.createElement("div",{className:"tourist-search "},s.a.createElement("p",null,"Search for a Guest"),s.a.createElement("div",{className:"inputs"},s.a.createElement("input",{placeholder:"First Name/Last Name",onChange:function(t){return e.setState({first_name:t.target.value})}}),s.a.createElement("input",{placeholder:"Room Number",onChange:function(t){return e.setState({room_number:t.target.value})}}),s.a.createElement("input",{placeholder:"CIN/Passport",onChange:function(t){return e.setState({cin_number:t.target.value})}}),s.a.createElement("input",{placeholder:"Nationality",onChange:function(t){return e.setState({country:t.target.value})}}))),s.a.createElement("div",{className:"tourist-Link-ajout ",onClick:function(){return e.setState({redirect:!0})}},s.a.createElement("div",{className:"tourist_image"},s.a.createElement("img",{src:"/img/ui/ajjouter_client.png"})),s.a.createElement(j.b,{to:"/add/tourist"},"Add Guest"))),s.a.createElement("div",{className:"tourist-list "},this.state.tourists.filter((function(t){return new RegExp(e.state.cin_number).test(t.cin_number)||new RegExp(e.state.cin_number,"i").test(t.passport_number)})).filter((function(t){return new RegExp(e.state.first_name,"i").test(t.first_name)||new RegExp(e.state.first_name,"i").test(t.last_name)})).filter((function(t){return new RegExp(e.state.room_number,"i").test(t.stay.device_room.room.room_number)})).filter((function(t){return new RegExp(e.state.country,"i").test(t.country)})).map((function(e){return s.a.createElement(le,{tourist:e})}))))}}]),t}(n.Component));ce.contextType=x;var oe=ce,ue=(a(330),a(331),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"onDelete",value:function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("hotel/"+e,"DELETE"));case 2:t=a.sent,console.log(t),console.log("room delete");case 5:case"end":return a.stop()}}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"employee-card"},s.a.createElement("div",{className:"employee-details"},s.a.createElement("div",{className:"image"},s.a.createElement("img",{src:"/img/ui/employes.png"})),s.a.createElement("p",null,this.props.data.name)),s.a.createElement("div",{className:"employee-button"},s.a.createElement("div",{className:"employee-redirect"},s.a.createElement(j.b,{to:"/employee/history/"+this.props.data.id},s.a.createElement("button",{className:"history_butt"},s.a.createElement("div",{className:"history_image"},s.a.createElement("img",{src:"/img/ui/hhistorique.png"})),s.a.createElement("div",{className:"text"},"History"))),s.a.createElement(j.b,{to:"/emlpoyee/edit/"+this.props.data.id},s.a.createElement("button",{className:"edit_butt"},s.a.createElement("div",{className:"edit_image"},s.a.createElement("img",{src:"/img/ui/modifier.png"})),s.a.createElement("div",{className:"text"},"Edit")))),s.a.createElement(X.a,{trigger:s.a.createElement("div",null,"  ",s.a.createElement(k.a,{src:"/img/ui/delete.svg"})," "),modal:!0},(function(t){return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"header"},"Are you sure you want to delete? "),s.a.createElement("div",{className:"actions"},s.a.createElement("img",{src:"/img/ui/btn_valider.png",onClick:e.onDelete.bind(e,e.props.data.id)}),s.a.createElement("img",{src:"/img/ui/btn_annuler.png",onClick:function(){console.log("modal closed "),t()}})))}))))}}]),t}(n.Component)),me=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={employees:[]},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("users"));case 2:e=t.sent,this.setState({employees:e.data}),console.log(this.state);case 5:case"end":return t.stop()}}),null,this)}},{key:"componentDidCatch",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"employees-container"},s.a.createElement("div",{className:"employee-search"},s.a.createElement("label",null,"Search Employees"),s.a.createElement("input",{placeholder:"Name...",onChange:function(t){return e.setState({name:t.target.value})}})),s.a.createElement(j.b,{to:"/add/employee"},s.a.createElement("div",{className:"emp-butt"},s.a.createElement("img",{src:"/img/ui/ajouter_employes.png",alt:"img"}),"Add employee")),this.state.employees.filter((function(t){return new RegExp(e.state.name,"i").test(t.name)})).map((function(e){return s.a.createElement(ue,{data:e})})))}}]),t}(n.Component);me.contextType=x;var he=me,pe=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"Statistics")}}]),t}(n.Component),de=(a(332),a(135),a(333),function(e){function t(e){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/edit_button.png"}),s.a.createElement(j.b,{to:"/"+this.props.link+"/edit/"+this.props.id+"?return="+document.location.href}))}}]),t}(n.Component)),ve=(a(334),a(92)),Ee=a.n(ve),ge={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},fe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={modalIsOpen:!1},a.openModal=a.openModal.bind(Object(v.a)(a)),a.closeModal=a.closeModal.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/info_bulle.png",onClick:this.openModal}),s.a.createElement(Ee.a,{className:"modal",isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:ge,contentLabel:"Example Modal"},s.a.createElement("div",{className:"post_information"},s.a.createElement("img",{src:this.props.image}),s.a.createElement("div",{className:"text_description"},s.a.createElement("h2",null,this.props.title),s.a.createElement("p",null,this.props.description))),s.a.createElement("hr",null),s.a.createElement("button",{onClick:this.closeModal},"close")))}}]),t}(n.Component),be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={redirect:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(H.a,{to:"/dish/"+this.props.id}):s.a.createElement("div",{className:"dish-card"},s.a.createElement("div",{className:"description"},s.a.createElement(k.a,{src:this.props.logo}),s.a.createElement("p",{className:"title"},this.props.post.title),s.a.createElement("p",{className:"desc"},this.props.post.description||"No Description"),this.props.post.price?s.a.createElement("p",{className:"price"},this.props.post.price_promo?(this.props.post.price-this.props.post.price*this.props.post.price_promo/100).toFixed(1):this.props.post.price.toFixed(1),s.a.createElement("sup",null," dt "),this.props.post.price_promo?"("+this.props.post.price_promo+"%)":""):""),s.a.createElement("div",{style:{backgroundImage:"url(".concat(this.props.post.image,")")},className:"image"},s.a.createElement(J,{id:this.props.post.id,check:1==this.props.post.state}),s.a.createElement(de,{link:this.props.link,id:this.props.post.id},"Edit"),s.a.createElement("button",{onClick:function(){return e.props.onDelete(e.props.post.id)}},"Delete"),s.a.createElement(fe,{title:this.props.title,description:this.props.description,image:this.props.image})))}}]),t}(n.Component),ye=(a(343),a(344),a(345),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={},n.setWrapperRef=n.setWrapperRef.bind(Object(v.a)(n)),n.handleClickOutside=n.handleClickOutside.bind(Object(v.a)(n)),n.add=n.add.bind(Object(v.a)(n)),n.disable=n.disable.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.props.turnOff()}},{key:"add",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({loading:!0}),(e=new FormData).append("image",this.state.file),a.next=5,c.a.awrap(b("upload",e,"POST"));case 5:return t=a.sent,this.setState({image:t.image}),a.next=9,c.a.awrap(f("post",{title:this.state.name,image:this.state.image,hotel_id:this.context.hotel_id[0],parent_id:949,type:4,categories:"[NanCategories]",state:1,content_manager:1},"POST"));case 9:a.sent,this.setState({loading:!1}),this.props.update();case 12:case"end":return a.stop()}}),null,this)}},{key:"disable",value:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("post/"+e,{state:0},"PUT"));case 2:this.props.update();case 3:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{ref:this.setWrapperRef,style:this.props.style,className:"category-form"},s.a.createElement("div",{className:"title-bar"},"Add Category (menu)"),s.a.createElement("div",{className:"form-elements"},s.a.createElement("p",null,"Category Name:"),s.a.createElement("input",{value:this.state.name,onInput:function(t){return e.setState({name:t.target.value})},placeholder:"Ex: Dessert"}),s.a.createElement("p",null,"Category Image:"),s.a.createElement("input",{type:"file",onChange:function(t){return e.setState({file:t.target.files[0]})},placeholder:"Ex: Dessert"}),s.a.createElement("div",{onClick:this.add,className:"category-add"},s.a.createElement("span",null,"+"),s.a.createElement("p",null,this.state.loading?"Wait":"Add")),s.a.createElement("div",{className:"categories"},this.props.categories.map((function(t){return s.a.createElement("p",null,t.title,s.a.createElement("sup",{onClick:function(){return e.disable(t.id)}},"X"))})))))}}]),t}(n.Component));ye.contextType=x;var xe=ye,_e=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={display:!1},a.toggle=a.toggle.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"toggle",value:function(){this.state.display||this.setState({display:!0})}},{key:"componentDidUpdate",value:function(){document.querySelector(".dish-container")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"category-container"},s.a.createElement("button",{onClick:this.toggle,className:"category-button"},s.a.createElement("img",{src:"/img/ui/edit.png"}),"Edit Categories"),s.a.createElement(xe,{categories:this.props.categories,update:this.props.update,turnOff:function(){return e.setState({display:!1})},style:{display:this.state.display?"inline-block":"none"}}))}}]),t}(n.Component),Oe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={id:a.props.id,categories:[],userRole:-1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("/auth/privileges",{},"GET"));case 2:e=t.sent,this.setState({userRole:e.role});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",{className:"restaurant-bar"},s.a.createElement("div",{className:"description"},s.a.createElement(k.a,{src:"/img/restaurant/dish.svg"}),s.a.createElement("p",{className:"title"},this.props.title),s.a.createElement("p",{className:"opening-time"})),s.a.createElement("div",{className:"categories"},this.props.categories.map((function(e){return s.a.createElement(j.c,{to:"/category/"+e.id,activeClass:"active"},e.title)})),3===this.state.userRole&&s.a.createElement(_e,{update:this.props.update,categories:this.props.categories})))}}]),t}(n.Component),ke=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={restaurant:{},dishes:[],categories:[],id:a.props.service.id},a.componentDidMount=a.componentDidMount.bind(Object(v.a)(a)),a.updateTheState=a.updateTheState.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n=this;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(this.state),s.next=3,c.a.awrap(f("post/"+this.state.id));case 3:return e=s.sent,this.setState({restaurant:e.data[0]}),s.next=7,c.a.awrap(f("posts",{parent_id:this.state.restaurant.id,state:1}));case 7:t=s.sent,this.setState({categories:t.data}),a=[],this.state.categories.forEach((function(e){var t;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(f("posts",{parent_id:e.id}));case 2:t=s.sent,a=[].concat(Object(o.a)(a),Object(o.a)(t.data)),n.setState({dishes:a});case 5:case"end":return s.stop()}}))}));case 11:case"end":return s.stop()}}),null,this)}},{key:"updateTheState",value:function(e){var t,a=this;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(f("/post/"+e,{},"DELETE"));case 2:t=[],this.state.categories.forEach((function(e){var n;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(f("posts",{parent_id:e.id}));case 2:n=s.sent,t=[].concat(Object(o.a)(t),Object(o.a)(n.data)),a.setState({dishes:t});case 5:case"end":return s.stop()}}))}));case 4:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"restaurant-container"},s.a.createElement(Oe,{update:this.componentDidMount,setId:function(){return 5},categories:this.state.categories,id:this.state.restaurant.id,title:this.state.restaurant.title,opening_time:this.state.restaurant.opening_time}),s.a.createElement("div",{className:"dish-container"},this.state.dishes.map((function(t){return s.a.createElement(be,{link:"dish",post:t,onDelete:e.updateTheState,logo:"/img/services/forme-2.svg"})}))))}}]),t}(n.Component),je=(a(346),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={restaurants:[]},a.updateTheState=a.updateTheState.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 2:e=t.sent,this.setState({restaurants:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"updateTheState",value:function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("/post/"+e,{},"DELETE"));case 2:return a.next=4,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 4:t=a.sent,this.setState({restaurants:t.data});case 6:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"restaurants"},s.a.createElement(Q,{id:this.props.service.id,link:"wellbeing",return:window.location.href,params:{parent_id:this.props.service.id},style:{width:"31%",height:"200px",border:"1px dashed #7a8da1"}},s.a.createElement(k.a,{src:"/img/restaurant/plus.svg"}),s.a.createElement("p",null,"Add")),this.state.restaurants.map((function(t){return s.a.createElement(be,{link:"wellbeing",post:t,onDelete:e.updateTheState,logo:"/img/services/forme-7.svg"})})))}}]),t}(n.Component)),Ne=(a(347),a(348),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={redirect:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(H.a,{to:"/restaurant/"+this.props.id}):s.a.createElement("div",{className:"restaurant-card"},s.a.createElement("div",{className:"description"},s.a.createElement(k.a,{src:"/img/restaurant/dish.svg"}),s.a.createElement("p",{className:"title",onClick:function(){return e.setState({redirect:!0})}},this.props.title),s.a.createElement("p",{className:"desc"},this.props.description||"This restaurant doesn't have a description")),s.a.createElement("div",{className:"div_buttons"},s.a.createElement(de,{link:this.props.link,id:this.props.id},"Edit"),s.a.createElement(fe,{title:this.props.title,description:this.props.description,image:this.props.image}),s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/delete_button.png",onClick:function(){return e.props.onDelete(e.props.id)}}))),s.a.createElement("div",{style:{backgroundImage:"url(".concat(this.props.image,")")},className:"image"},s.a.createElement(J,{id:this.props.id,check:this.props.check})))}}]),t}(n.Component)),Se=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={restaurants:[{id:1}]},a.updateTheState=a.updateTheState.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"updateTheState",value:function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("/post/"+e,{},"DELETE"));case 2:return a.next=4,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 4:t=a.sent,this.setState({restaurants:t.data});case 6:case"end":return a.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 2:e=t.sent,this.setState({restaurants:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"restaurants"},s.a.createElement(Q,{id:this.props.service.id,link:"restaurant",return:window.location.href,params:{parent_id:this.props.service.id},style:{width:"31%",height:"200px",border:"1px dashed #7a8da1",marginLeft:"-2px"}},s.a.createElement(k.a,{src:"/img/restaurant/plus.svg"}),s.a.createElement("p",null,"Add")),this.state.restaurants.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ne,{link:"restaurant",check:1==t.state,id:t.id,image:t.image,title:t.title,description:t.description,time:t.opening_time,onDelete:e.updateTheState}))}))))}}]),t}(n.Component),Ce=(a(349),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={restaurants:[]},a.updateTheState=a.updateTheState.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 2:e=t.sent,this.setState({restaurants:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"updateTheState",value:function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("/post/"+e,{},"DELETE"));case 2:return a.next=4,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 4:t=a.sent,this.setState({restaurants:t.data});case 6:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"restaurants"},s.a.createElement(Q,{id:this.props.service.id,link:"leisure",return:window.location.href,params:{parent_id:this.props.service.id},style:{width:"31%",height:"200px",border:"1px dashed #7a8da1"}},s.a.createElement(k.a,{src:"/img/restaurant/plus.svg"}),s.a.createElement("p",null,"Add")),this.state.restaurants.map((function(t){return s.a.createElement(be,{link:"leisure",post:t,onDelete:e.updateTheState,logo:"/img/services/forme-3.svg"})})))}}]),t}(n.Component)),we=(a(350),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={restaurants:[]},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 2:e=t.sent,this.setState({restaurants:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",{className:"restaurants"},s.a.createElement(Q,{id:this.props.service.id,link:"wellbeing",return:window.location.href,params:{parent_id:this.props.service.id},style:{width:"31%",height:"200px"}},s.a.createElement(k.a,{src:"/img/restaurant/plus.svg"}),s.a.createElement("p",null,"Add")),this.state.restaurants.map((function(e){return s.a.createElement(be,{link:"gallery",post:e})})))}}]),t}(n.Component)),De=(a(351),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={restaurants:[]},a.updateTheState=a.updateTheState.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"updateTheState",value:function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("/post/"+e,{},"DELETE"));case 2:return a.next=4,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 4:t=a.sent,this.setState({restaurants:t.data});case 6:case"end":return a.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 2:e=t.sent,this.setState({restaurants:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return console.log(this.props.service.id,"serviiice"),console.log(window.location.href,"window"),s.a.createElement("div",{className:"restaurants"},s.a.createElement(Q,{id:this.props.service.id,link:"meetings",return:window.location.href,params:{parent_id:this.props.service.id},style:{width:"31%",height:"200px",border:"1px dashed #7a8da1"}},s.a.createElement(k.a,{src:"/img/restaurant/plus.svg"}),s.a.createElement("p",null,"Add")),this.state.restaurants.map((function(t){return s.a.createElement(be,{link:"meeting",post:t,onDelete:e.updateTheState,logo:"/img/services/forme-1.svg"})})))}}]),t}(n.Component)),Te=(a(352),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={hotelContactInfo:{},sucess_message:"",alert_message:[]},n.edit=n.edit.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("hotel/"+this.context.hotel_id[0]));case 2:e=t.sent,this.setState({hotelContactInfo:e.data[0]}),console.log(this.state.hotelContactInfo),console.log(this.state.hotelContactInfo.adresse,"adressssse"),console.log(this.state.hotelContactInfo.phone,"phone"),console.log(this.state.hotelContactInfo.email,"email"),console.log(this.state.hotelContactInfo.youtube,"youtube");case 9:case"end":return t.stop()}}),null,this)}},{key:"setData",value:function(e){this.setState({hotelContactInfo:Object(u.a)({},this.state.hotelContactInfo,{},e)})}},{key:"edit",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(this.setState({alert_message:[]}));case 2:if(/[a-z]{1,10}/.test(this.state.hotelContactInfo.address)){e.next=5;break}return e.next=5,c.a.awrap(this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid address Try again!"])}));case 5:if(/^[0-9]*$/.test(this.state.hotelContactInfo.phone)){e.next=8;break}return e.next=8,c.a.awrap(this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid phone!"])}));case 8:if(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(this.state.hotelContactInfo.email)){e.next=11;break}return e.next=11,c.a.awrap(this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid email!"])}));case 11:if(/[a-z]{1,10}/.test(this.state.hotelContactInfo.facebook)){e.next=14;break}return e.next=14,c.a.awrap(this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid facebook!"])}));case 14:if(/[a-z]{1,10}/.test(this.state.hotelContactInfo.twitter)){e.next=17;break}return e.next=17,c.a.awrap(this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid twitter!"])}));case 17:if(/[a-z]{1,10}/.test(this.state.hotelContactInfo.youtube)){e.next=20;break}return e.next=20,c.a.awrap(this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid youtube!"])}));case 20:if(0!=this.state.alert_message.length){e.next=24;break}if(!this.state.hotelContactInfo.address){e.next=24;break}return e.next=24,c.a.awrap(f("hotel/"+this.context.hotel_id[0],{address:this.state.hotelContactInfo.address},"PUT"));case 24:if(0!=this.state.alert_message.length){e.next=28;break}if(!this.state.hotelContactInfo.phone){e.next=28;break}return e.next=28,c.a.awrap(f("hotel/"+this.context.hotel_id[0],{phone:this.state.hotelContactInfo.phone},"PUT"));case 28:if(0!=this.state.alert_message.length){e.next=32;break}if(!this.state.hotelContactInfo.email){e.next=32;break}return e.next=32,c.a.awrap(f("hotel/"+this.context.hotel_id[0],{email:this.state.hotelContactInfo.email},"PUT"));case 32:if(0!=this.state.alert_message.length){e.next=36;break}if(!this.state.hotelContactInfo.facebook){e.next=36;break}return e.next=36,c.a.awrap(f("hotel/"+this.context.hotel_id[0],{facebook:this.state.hotelContactInfo.facebook},"PUT"));case 36:if(0!=this.state.alert_message.length){e.next=40;break}if(!this.state.hotelContactInfo.twitter){e.next=40;break}return e.next=40,c.a.awrap(f("hotel/"+this.context.hotel_id[0],{twitter:this.state.hotelContactInfo.twitter},"PUT"));case 40:if(0!=this.state.alert_message.length){e.next=44;break}if(!this.state.hotelContactInfo.youtube){e.next=44;break}return e.next=44,c.a.awrap(f("hotel/"+this.context.hotel_id[0],{youtube:this.state.hotelContactInfo.youtube},"PUT"));case 44:0==this.state.alert_message.length&&this.setState({sucess_message:"success"}),console.log(this.state.hotelContactInfo.email,"pfff");case 46:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return console.log(this.state.hotelContactInfo.email,"lemailhahaha"),s.a.createElement("div",{className:"contact-form-add"},s.a.createElement("div",{className:"contact-header"},s.a.createElement("img",{src:"/img/services/edit-contact.svg"}),s.a.createElement("span",null,"Edit contact")),s.a.createElement("div",{className:"message-succes"},"success"==this.state.sucess_message?"Ajout avec succes !":null),s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),s.a.createElement("div",{className:"contact-inputs"},s.a.createElement("input",{placeholder:"Si\xe9ge social",defaultValue:this.state.hotelContactInfo.address,name:"address",onChange:function(t){return e.setData({address:t.target.value})}}),s.a.createElement("input",{type:"number",defaultValue:this.state.hotelContactInfo.phone,placeholder:"Phone",name:"phone",onChange:function(t){return e.setData({phone:t.target.value})}}),s.a.createElement("input",{type:"email",placeholder:"Email",defaultValue:this.state.hotelContactInfo.email,name:"email",onChange:function(t){return e.setData({email:t.target.value})}}),s.a.createElement("input",{type:"text",placeholder:"Facebook",defaultValue:this.state.hotelContactInfo.facebook,name:"facebook",onChange:function(t){return e.setData({facebook:t.target.value})}}),s.a.createElement("input",{type:"text",placeholder:"Twitter",defaultValue:this.state.hotelContactInfo.twitter,name:"twitter",onChange:function(t){return e.setData({twitter:t.target.value})}}),s.a.createElement("input",{type:"text",placeholder:"Youtube",defaultValue:this.state.hotelContactInfo.youtube,name:"youtube",onChange:function(t){return e.setData({youtube:t.target.value})}}),s.a.createElement("button",{onClick:this.edit},s.a.createElement("img",{src:"/img/ui/valid.png"}),"validate")))}}]),t}(n.Component));Te.contextType=x;var Ie=Te,Me=(a(353),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={restaurants:[]},a.updateTheState=a.updateTheState.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 2:e=t.sent,this.setState({restaurants:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"updateTheState",value:function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("/post/"+e,{},"DELETE"));case 2:return a.next=4,c.a.awrap(f("posts",{parent_id:this.props.service.id}));case 4:t=a.sent,this.setState({restaurants:t.data});case 6:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"restaurants"},s.a.createElement(Q,{id:this.props.service.id,link:"events",return:window.location.href,params:{parent_id:this.props.service.id},style:{width:"31%",height:"200px",border:"1px dashed #7a8da1"}},s.a.createElement(k.a,{src:"/img/restaurant/plus.svg"}),s.a.createElement("p",null,"Add")),this.state.restaurants.map((function(t){return s.a.createElement(be,{link:"event",post:t,onDelete:e.updateTheState,logo:"/img/services/forme-5.svg"})})))}}]),t}(n.Component)),Pe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={service:{},posts:[]},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("post/"+this.props.match.params.id));case 2:e=t.sent,this.setState({service:e.data[0]});case 4:case"end":return t.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.props.match.params.id==this.state.service.id){t.next=5;break}return t.next=3,c.a.awrap(f("post/"+this.props.match.params.id));case 3:e=t.sent,this.setState({service:e.data[0]});case 5:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){switch(this.state.service.layout_xml_template){case 1:return s.a.createElement(Se,{service:this.state.service});case 2:return s.a.createElement(ke,{service:this.state.service});case 3:return s.a.createElement(Ce,{service:this.state.service});case 4:return s.a.createElement(we,{service:this.state.service});case 5:return s.a.createElement(De,{service:this.state.service});case 6:return s.a.createElement(Ie,{service:this.state.service});case 7:return s.a.createElement(Me,{service:this.state.service});case 8:return s.a.createElement(je,{service:this.state.service});default:return null}}}]),t}(n.Component),Ae=(a(354),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={restaurant:{},dishes:[],categories:[],id:a.props.match.params.id},a.componentDidMount=a.componentDidMount.bind(Object(v.a)(a)),a.updateTheState=a.updateTheState.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n=this;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(f("post/"+this.props.match.params.id));case 2:return e=s.sent,this.setState({restaurant:e.data[0]}),s.next=6,c.a.awrap(f("posts",{parent_id:this.state.restaurant.id,state:1}));case 6:t=s.sent,this.setState({categories:t.data}),a=[],this.state.categories.forEach((function(e){var t;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(f("posts",{parent_id:e.id}));case 2:t=s.sent,a=[].concat(Object(o.a)(a),Object(o.a)(t.data)),n.setState({dishes:a});case 5:case"end":return s.stop()}}))}));case 10:case"end":return s.stop()}}),null,this)}},{key:"updateTheState",value:function(e){var t,a=this;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(f("/post/"+e,{},"DELETE"));case 2:t=[],this.state.categories.forEach((function(e){var n;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(f("posts",{parent_id:e.id}));case 2:n=s.sent,t=[].concat(Object(o.a)(t),Object(o.a)(n.data)),a.setState({dishes:t});case 5:case"end":return s.stop()}}))}));case 4:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"restaurant-container"},s.a.createElement(Oe,{update:this.componentDidMount,categories:this.state.categories,id:this.state.restaurant.id,title:this.state.restaurant.title,opening_time:this.state.restaurant.opening_time}),s.a.createElement("div",{className:"dish-container"},this.state.dishes.map((function(t){return s.a.createElement(be,{link:"dish",post:t,onDelete:e.updateTheState,showTheButton:!1})}))))}}]),t}(n.Component)),Be=(a(355),a(356),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={restaurant:[],dishes:[],category:[],categories:[],id:a.props.match.params.id,allDishes:[]},a.setId=a.setId.bind(Object(v.a)(a)),a.componentDidMount=a.componentDidMount.bind(Object(v.a)(a)),a.updateTheState=a.updateTheState.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"updateTheState",value:function(e){var t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(f("/post/"+e,{},"DELETE"));case 2:return n.next=4,c.a.awrap(f("posts",{parent_id:this.state.category.id}));case 4:t=n.sent,a=t.data,this.setState({dishes:a});case 7:case"end":return n.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e,t,a,n,s,r=this;return c.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.a.awrap(f("post/"+this.state.id));case 2:return e=i.sent,this.setState({category:e.data[0]}),i.next=6,c.a.awrap(f("post/"+this.state.category.parent_id));case 6:return t=i.sent,this.setState({restaurant:t.data[0]}),i.next=10,c.a.awrap(f("posts",{parent_id:this.state.category.parent_id,state:1}));case 10:return a=i.sent,this.setState({categories:a.data}),i.next=14,c.a.awrap(f("posts",{parent_id:this.state.category.id}));case 14:n=i.sent,s=n.data,this.setState({dishes:s}),this.state.categories.forEach((function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("posts",{parent_id:e.id}));case 2:t=a.sent,s=[].concat(Object(o.a)(s),Object(o.a)(t.data)),r.setState({allDishes:s});case 5:case"end":return a.stop()}}))}));case 18:case"end":return i.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(e){var t,a,n;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.match.params.id==this.state.id){s.next=11;break}return this.setState({id:this.props.match.params.id}),s.next=4,c.a.awrap(f("post/"+this.props.match.params.id));case 4:return t=s.sent,this.setState({category:t.data[0]}),s.next=8,c.a.awrap(f("posts",{parent_id:this.state.category.id,state:1}));case 8:a=s.sent,n=a.data,this.setState({dishes:n});case 11:case"end":return s.stop()}}),null,this)}},{key:"setId",value:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({id:e});case 1:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"restaurant-container"},s.a.createElement(Oe,{update:this.componentDidMount,setId:this.setId,categories:this.state.categories,id:this.state.restaurant.id,title:this.state.restaurant.title,opening_time:this.state.restaurant.opening_time}),s.a.createElement("div",{className:"dish-container"},5!==this.state.category.id&&1!==this.state.category.id&&s.a.createElement(Q,{id:this.state.id,link:"dish",return:window.location.href,params:{parent_id:this.state.category.id},style:{marginLeft:"15px",height:"200px",width:"31%",boxSizing:"border-box",border:"1px dashed #1A5889"}},s.a.createElement(k.a,{src:"/img/restaurant/plus.svg"}),s.a.createElement("p",null,"Add")),5===this.state.category.id||1===this.state.category.id?this.state.allDishes.map((function(t){return s.a.createElement(be,{link:"dish",post:t,onDelete:e.updateTheState})})):this.state.dishes.map((function(t){return s.a.createElement(be,{link:"dish",post:t,onDelete:e.updateTheState})}))))}}]),t}(n.Component)),Re=(a(357),a(358),a(359),n.Component,a(360),a(361),function(e){function t(e){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.check,"this.props.check"),s.a.createElement("div",{className:"flipswitch"},s.a.createElement("input",{type:"checkbox",name:"flipswitch",className:"flipswitch-cb",checked:this.props.check}),s.a.createElement("label",{onClick:function(t){return e.props.setchek({check:e.props.check})},className:"flipswitch-label"},s.a.createElement("div",{className:"flipswitch-inner"}),s.a.createElement("div",{className:"flipswitch-switch"})))}}]),t}(n.Component)),Ue=function(e){function t(e){var a;return Object(m.a)(this,t),console.log(e),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={check:!0},a.setchek=a.setchek.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"setchek",value:function(){this.setState((function(e){return{check:!e.check}}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,console.log(this.state.check,"lalalla"),s.a.createElement("div",{className:"opening_time"},s.a.createElement("div",{className:"opening_time_text"},s.a.createElement("p",null,"Opening Time"),s.a.createElement("div",{className:"switcher"},s.a.createElement(Re,{check:this.state.check,setchek:this.setchek}))),1==this.state.check?s.a.createElement("div",{className:"time_input"},s.a.createElement("div",{className:"First_shift"},s.a.createElement("p",null,"First Shift"),s.a.createElement("input",{placeholder:"00",onChange:function(t){return e.props.setData({openTimeFirstShift:t.target.value})}}),s.a.createElement("p",null,">"),s.a.createElement("input",{placeholder:"00",onChange:function(t){return e.props.setData({room_number:t.target.value})}})),s.a.createElement("div",{className:"Seconde_shift"},s.a.createElement("p",null,"Seconde Shift"),s.a.createElement("input",{placeholder:"00",onChange:function(t){return e.props.setData({room_number:t.target.value})}}),s.a.createElement("p",null,">"),s.a.createElement("input",{placeholder:"00",onChange:function(t){return e.props.setData({room_number:t.target.value})}}))):s.a.createElement("div",null," ")))}}]),t}(n.Component),Fe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={accept_reservation:1,accept_order:1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return console.log(this.props.id,"formpage"),s.a.createElement("div",{className:"form-page"},s.a.createElement("div",{className:"form-header"},this.props.title||"Default"),s.a.createElement("div",{className:"form-elements"},this.props.children),s.a.createElement("div",{className:"form-opining-time"},s.a.createElement(Ue,{setData:this.props.setData,id:this.props.id})))}}]),t}(n.Component),Le=(a(362),a(363),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("button",{className:"navigation-button",onClick:this.props.increment},this.props.children,s.a.createElement(_.a,{icon:O.b}))}}]),t}(n.Component)),ze=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("button",{className:"navigation-button",onClick:this.props.decrement},s.a.createElement(_.a,{icon:O.a}),"Back")}}]),t}(n.Component),Ge=(a(364),a(365),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={arr:Object(o.a)(Array(a.props.count).keys()).map((function(e){return e+1})),index:a.props.index},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.arr.map((function(t,a){var n="";return a==e.props.index?n="active":a<e.props.index&&(n="done"),n+=" navigation-index",s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:n},t),s.a.createElement("div",{className:"line"}))})))}}]),t}(n.Component)),He=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={index:0},a.increment=a.increment.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"increment",value:function(){this.props.increment(),this.setState({index:Math.min(this.state.index+1,this.props.count-1)}),this.state.index===this.props.count-1&&this.props.send()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"navigation-bar"},s.a.createElement(ze,{decrement:function(){e.props.decrement(),e.setState({index:Math.max(--e.state.index,0)})}},"Back"),s.a.createElement(Ge,{index:this.state.index,count:this.props.count}),s.a.createElement(Le,{increment:this.increment},this.state.index===this.props.count-1?"Submit":"Next"))}}]),t}(n.Component),qe=(a(369),n.Component,function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={elements:a.props.children,index:0},a.decrement=a.decrement.bind(Object(v.a)(a)),a.increment=a.increment.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"decrement",value:function(){!this.state.index||this.setState({index:this.state.index-1})}},{key:"increment",value:function(){this.state.index==this.state.elements.length-1||this.setState({index:this.state.index+1})}},{key:"render",value:function(){return s.a.createElement("div",{className:"form-navigator"},s.a.createElement(Fe,{title:this.state.elements[this.state.index].props.title,setData:this.props.setData,id:this.props.id,data:this.props.data},s.a.cloneElement(this.state.elements[this.state.index],{data:this.props.data})),s.a.createElement(He,{send:this.props.send,decrement:this.decrement,index:this.state.index,count:this.state.elements.length,increment:this.increment}))}}]),t}(n.Component)),Ve=(a(370),a(20)),Ke=a.n(Ve),We=(a(374),function(e){function t(e){var a;return Object(m.a)(this,t),console.log(e),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={data:Object(u.a)({},a.props.data),crop:{x:0,y:0},zoom:0},a.upload=a.upload.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.props.setData({title:e.target.value})}},{key:"upload",value:function(e){var t,a;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",document.getElementsByName("image")[0].files[0]),e.next=4,c.a.awrap(b("upload",t,"POST"));case 4:a=e.sent,this.setState({image:a.image}),this.props.setData({image:a.image,imagePreviewUrl:a.image});case 7:case"end":return e.stop()}}),null,this)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,"Image"),s.a.createElement("br",null),s.a.createElement(Ke.a,{onChange:this.upload,label:"Max file size: 2MB | Allowed formats: jpg, png",maxFileSize:"2097152",name:"image"}),s.a.createElement("div",{className:"form-grouping-half"},s.a.createElement("label",{className:"input-label-half"},"Title"),s.a.createElement("label",{className:"input-label-half"},"Title (fr)"),s.a.createElement("input",{placeholder:"Title",value:this.props.data.title||"",onChange:this.handleChange.bind(this),className:"input-half"}),s.a.createElement("input",{placeholder:"Title (Fr)",value:this.props.data.title_fr||"",onChange:function(t){return e.props.setData({title_fr:t.target.value})},className:"input-half"})))}}]),t}(n.Component)),Ye=(a(377),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={data:a.props.data},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{classNale:"form-grouping-half"},s.a.createElement("label",{className:"input-label-half"},"Description"),s.a.createElement("label",{className:"input-label-half"},"Description (fr)"),s.a.createElement("textarea",{value:this.props.data.description,placeholder:"Description",onChange:function(t){return e.props.setData({description:t.target.value})},className:"input-half"}),s.a.createElement("textarea",{value:this.state.data.description_fr,placeholder:"Description (Fr)",onChange:function(t){return e.props.setData({description_fr:t.target.value})},className:"input-half"}),s.a.createElement("label",{className:"input-label-half"},"Summary"),s.a.createElement("label",{className:"input-label-half"},"Summary (fr)"),s.a.createElement("textarea",{value:this.props.data.summery,placeholder:"Summary",onChange:function(t){return e.props.setData({summery:t.target.value})},className:"input-half"}),s.a.createElement("textarea",{value:this.state.data.summery_fr,placeholder:"Summary (Fr)",onChange:function(t){e.setState({data:Object(u.a)({},e.state.data,{summery_fr:t.target.value})}),e.props.setData({summery_fr:t.target.value})},className:"input-half"}))}}]),t}(n.Component)),Ze=(a(378),function(e){function t(e){var a;return Object(m.a)(this,t),console.log(e),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={data:Object(u.a)({},a.props.data)},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.props.setData({price:e.target.value})}},{key:"handleChangePromo",value:function(e){this.props.setData({price_promo:e.target.value})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-grouping-half"},s.a.createElement("label",{className:"input-label-full"},"Price"),s.a.createElement("input",{type:"number",value:this.props.data.price,placeholder:"Price in TND",onChange:this.handleChange.bind(this),className:"input-full"}),s.a.createElement("label",{className:"input-label-full"},"Promo (in %)"),s.a.createElement("input",{type:"number",value:this.props.data.price_promo,placeholder:"Optional",onChange:this.handleChangePromo.bind(this),className:"input-full"})))}}]),t}(n.Component)),Je=(a(379),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={data:{hotel_id:n.context.hotel_id[0],parent_id:n.props.match.params.id,type:1,categories:"['Dish']",content_manager:1,state:1}},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"setData",value:function(e){this.setState({data:Object(u.a)({},this.state.data,{},e)})}},{key:"ellipsis",value:function(e){return(e=String(e)).substring(0,3)}},{key:"send",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("post",this.state.data,"POST"));case 2:if(e=a.sent,!this.state.data.title_fr){a.next=12;break}return(t={post_id:e.id}).title=this.state.data.title_fr,t.description=this.state.data.description_fr||"",t.lang_iso="fr",t.summery=this.state.data.summery_fr||"",a.next=11,c.a.awrap(f("posts_translate",t,"POST"));case 11:a.sent;case 12:window.location.href=new URLSearchParams(window.location.search).get("return");case 13:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"service-form-container"},s.a.createElement("div",{className:"left-preview"},s.a.createElement("div",{className:"arrow-right",style:{display:this.state.data.imagePreviewUrl?"":"none"}}),s.a.createElement("img",{src:"/img/ui/c15pro.png",alt:"phone_photo",className:"c15-phone"}),s.a.createElement("div",{className:"service-preview-box",style:{borderLeft:"4px solid"+this.props.themeColor}},s.a.createElement("p",{style:{color:this.props.themeColor}},this.state.data.title),s.a.createElement("img",{src:this.state.data.imagePreviewUrl?this.state.data.imagePreviewUrl:"/img/ui/no-photo.png",style:{borderLeft:this.state.data.imagePreviewUrl?"":"1px dashed gray"},alt:"Preview Template"}),s.a.createElement("p",{className:"price"},this.state.data.price,s.a.createElement("sup",{style:{display:this.state.data.price?"inline":"none"}},"Dt")),s.a.createElement("span",{className:"promo",style:{display:this.state.data.price_promo?"inline":"none"}},this.state.data.price_promo&&this.state.data.price_promo.length>3?this.ellipsis(this.state.data.price_promo)+"...":this.state.data.price_promo,"%"))),s.a.createElement(qe,{data:this.state.data,send:this.send,className:"form-navigator"},s.a.createElement(We,{title:"Image + Title",setData:this.setData,data:this.state.data}),s.a.createElement(Ye,{title:"Description",setData:this.setData,data:this.state.data}),s.a.createElement(Ze,{title:"Price",setData:this.setData,data:this.state.data}))))}}]),t}(n.Component));Je.contextType=x;var Xe=Je,$e=(a(380),a(15)),Qe=a.n($e),et=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={device:{},rooms:[],tourists:[],alert_message:[],visible:""},n.edit=n.edit.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(f("device/"+this.props.match.params.id));case 2:return e=n.sent,this.setState({device:e.data[0]}),console.log(this.state.device),this.setState({room_id:e.data[0].device_room.room.room_id}),this.setState({tourist_id:e.data[0].device_room.stay.tourist.tourist_id}),n.next=9,c.a.awrap(f("rooms",{hotel_id:this.state.device.hotel_id}));case 9:return t=n.sent,this.setState({rooms:t.data}),n.next=13,c.a.awrap(f("tourists",{hotel_id:this.state.device.hotel_id}));case 13:a=n.sent,this.setState({tourists:a.data}),console.log(this.state);case 16:case"end":return n.stop()}}),null,this)}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"edit",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return/^[a-zA-Z0-9_.-]*$/.test(this.state.device.imei)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid imei!"])}),/^[0-9]*$/.test(this.state.device.call_time)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid call_time!"])}),/^[0-9]*$/.test(this.state.device.call_limit)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid call_limit!"])}),console.log("try to edit"),a.next=6,c.a.awrap(f("deviceRoomSwitch/"+this.state.device.id,{room_id:this.state.room_id},"PUT"));case 6:return e=a.sent,console.log(e,"room"),a.next=10,c.a.awrap(f("deviceTouristSwitch/"+this.state.device.id,{tourist_id:this.state.tourist_id},"PUT"));case 10:if(t=a.sent,console.log(t,"tourist"),0!=this.state.alert_message.length){a.next=16;break}if(!this.state.device.imei){a.next=16;break}return a.next=16,c.a.awrap(f("device/"+this.state.device.id,{imei:this.state.imei},"PUT"));case 16:if(console.log(this.state.device.imei,"imei"),0!=this.state.alert_message.length){a.next=21;break}if(!this.state.device.call_time){a.next=21;break}return a.next=21,c.a.awrap(f("device/"+this.state.device.id,{call_time:this.state.call_time},"PUT"));case 21:if(0!=this.state.alert_message.length){a.next=25;break}if(!this.state.device.call_limit){a.next=25;break}return a.next=25,c.a.awrap(f("device/"+this.state.device.id,{call_limit:this.state.call_limit},"PUT"));case 25:if(0!=this.state.alert_message.length){a.next=29;break}if(!this.state.device.intra_flotte){a.next=29;break}return a.next=29,c.a.awrap(f("device/"+this.state.device.id,{intra_flotte:this.state.intra_flotte},"PUT"));case 29:0==this.state.alert_message.length?(setTimeout((function(){return document.location.href="/devices"}),1e3),this.setState({visible:"success"})):this.setState({visible:"echec"});case 30:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"device-form-edit"},s.a.createElement("div",{className:"device-header"},s.a.createElement("div",{className:"title-device-edit"},s.a.createElement("img",{src:"/img/ui/ajouter_client.png",alt:"image"}),s.a.createElement("span",null,"Device IMEI: ",this.state.device.imei)),s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),"success"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"valide-modal"},s.a.createElement("img",{src:"/img/ui/succes.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"Successfully updated!"),s.a.createElement("button",{onClick:function(){e.closeModal()}},"X"))):null,"echec"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"echec-modal"},s.a.createElement("img",{src:"/img/ui/echec.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"Reinsert information please !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null),s.a.createElement("div",{className:"device-input"},s.a.createElement("div",null,s.a.createElement("label",null,"Room:"),s.a.createElement("select",{onChange:function(t){return e.setState({room_id:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Room"),this.state.rooms.map((function(e){return s.a.createElement("option",{value:e.id},"Room "+e.room_number+" Section: "+e.section+" / Floor: "+e.floor)})))),s.a.createElement("div",null,s.a.createElement("label",null,"Tourist:"),s.a.createElement("select",{onChange:function(t){return e.setState({tourist_id:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Tourist"),this.state.tourists.map((function(e){return s.a.createElement("option",{value:e.id},e.first_name+" "+e.last_name)})))),3==this.context.role?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"imei"},"IMEI:"),s.a.createElement("input",{defaultValue:this.state.device.imei,id:"imei",onInput:function(t){return e.setState({imei:t.target.value})}})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"call_time"},"Call Time:"),s.a.createElement("input",{defaultValue:this.state.device.call_time,id:"call_time",onInput:function(t){return e.setState({call_time:t.target.value})}})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"call_limit"},"Call Limit:"),s.a.createElement("input",{defaultValue:this.state.device.call_limit,id:"call_limit",onInput:function(t){return e.setState({call_limit:t.target.value})}})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"intra_flotte"},"Intra Flotte:"),s.a.createElement("select",{name:"intra_flotte",onInput:function(t){return e.setState({intra_flotte:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Intra Flotte?"),s.a.createElement("option",{value:"0"},"No"),s.a.createElement("option",{value:"1"},"Yes")))):null),s.a.createElement("button",{onClick:this.edit},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Confirm"))}}]),t}(n.Component);et.contextType=x;var tt=et,at=(a(386),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={tourist:{},visible:"",alert_message:[]},n.send=n.send.bind(Object(v.a)(n)),n.setData=n.setData.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("tourist/"+this.props.match.params.id));case 2:e=t.sent,this.setState({tourist:e.data[0]}),console.log(this.state);case 5:case"end":return t.stop()}}),null,this)}},{key:"setData",value:function(e){this.setState({tourist:Object(u.a)({},this.state.tourist,{},e)})}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"send",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(this.setState({alert_message:[]}));case 2:if(/[a-z]{1,10}/.test(this.state.tourist.first_name)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid first name!"])}),/[a-z]{1,10}/.test(this.state.tourist.last_name)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid last name!"])}),/^[0-9]*$/.test(this.state.tourist.phone_number)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid phone number!"])}),/^[0-9]*$/.test(this.state.tourist.zip_code)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid zip_code!"])}),/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(this.state.tourist.email)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid email!"])}),/\d{4}-\d{2}-\d{2}/.test(this.state.tourist.born)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid Date format ,Please try this format(YYYY-MM-DD) !"])}),0!=this.state.alert_message.length){e.next=12;break}if(!this.state.tourist.prefix_name){e.next=12;break}return e.next=12,c.a.awrap(f("tourist/"+this.state.tourist.id,{prefix_name:this.state.tourist.prefix_name},"PUT"));case 12:if(0!=this.state.alert_message.length){e.next=16;break}if(!this.state.tourist.first_name){e.next=16;break}return e.next=16,c.a.awrap(f("tourist/"+this.state.tourist.id,{first_name:this.state.tourist.first_name},"PUT"));case 16:if(0!=this.state.alert_message.length){e.next=20;break}if(!this.state.tourist.last_name){e.next=20;break}return e.next=20,c.a.awrap(f("tourist/"+this.state.tourist.id,{last_name:this.state.tourist.last_name},"PUT"));case 20:if(0!=this.state.alert_message.length){e.next=24;break}if(!this.state.tourist.gender){e.next=24;break}return e.next=24,c.a.awrap(f("tourist/"+this.state.tourist.id,{gender:this.state.tourist.gender},"PUT"));case 24:if(0!=this.state.alert_message.length){e.next=28;break}if(!this.state.tourist.email){e.next=28;break}return e.next=28,c.a.awrap(f("tourist/"+this.state.tourist.id,{email:this.state.email},"PUT"));case 28:if(0!=this.state.alert_message.length){e.next=32;break}if(!this.state.tourist.born){e.next=32;break}return e.next=32,c.a.awrap(f("tourist/"+this.state.tourist.id,{born:this.state.born},"PUT"));case 32:if(0!=this.state.alert_message.length){e.next=36;break}if(!this.state.tourist.phone_number){e.next=36;break}return e.next=36,c.a.awrap(f("tourist/"+this.state.tourist.id,{phone_number:this.state.tourist.phone_number},"PUT"));case 36:if(0!=this.state.alert_message.length){e.next=40;break}if(!this.state.cin_number){e.next=40;break}return e.next=40,c.a.awrap(f("tourist/"+this.state.tourist.id,{cin_number:this.state.cin_number},"PUT"));case 40:if(0!=this.state.alert_message.length){e.next=44;break}if(!this.state.tourist.passport_number){e.next=44;break}return e.next=44,c.a.awrap(f("tourist/"+this.state.tourist.id,{passport_number:this.state.tourist.passport_number},"PUT"));case 44:if(0!=this.state.alert_message.length){e.next=48;break}if(!this.state.tourist.country){e.next=48;break}return e.next=48,c.a.awrap(f("tourist/"+this.state.tourist.id,{country:this.state.tourist.country},"PUT"));case 48:if(0!=this.state.alert_message.length){e.next=52;break}if(!this.state.tourist.city){e.next=52;break}return e.next=52,c.a.awrap(f("tourist/"+this.state.tourist.id,{passport_number:this.state.tourist.passport_number},"PUT"));case 52:if(0!=this.state.alert_message.length){e.next=56;break}if(!this.state.tourist.zip_code){e.next=56;break}return e.next=56,c.a.awrap(f("tourist/"+this.state.tourist.id,{zip_code:this.state.tourist.zip_code},"PUT"));case 56:if(0!=this.state.alert_message.length){e.next=60;break}if(!this.state.tourist.address_1){e.next=60;break}return e.next=60,c.a.awrap(f("tourist/"+this.state.tourist.id,{address_1:this.state.tourist.address_1},"PUT"));case 60:0==this.state.alert_message.length?this.setState({visible:"success"}):this.setState({visible:"echec"});case 61:case"end":return e.stop()}}),null,this)}},{key:"onFocus",value:function(e){e.currentTarget.type="date"}},{key:"onBlurout",value:function(e){e.currentTarget.type="text",e.currentTarget.placeholder="check out Date"}},{key:"onBlurin",value:function(e){e.currentTarget.type="text",e.currentTarget.placeholder="check in Date"}},{key:"onBlurborn",value:function(e){e.currentTarget.type="text",e.currentTarget.placeholder="Born Date"}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"tourist-form-add"},s.a.createElement("div",{className:"tourist-header"},s.a.createElement("div",null,"Edit Guest")),s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),"success"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"valide-modal"},s.a.createElement("img",{src:"/img/ui/succes.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"successfully added !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,"echec"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"echec-modal"},s.a.createElement("img",{src:"/img/ui/echec.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"Reinsert information please !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,s.a.createElement("div",{className:"input-tourists"},s.a.createElement("div",{className:"form-grouping-half-tourist-edit"},s.a.createElement("label",{className:"input-label-half-tourist-edit"}," Prefix Name "),s.a.createElement("label",{className:"input-label-half-tourist-edit"},"First Name"),s.a.createElement("label",{className:"input-label-half-tourist-edit"},"Last Name"),s.a.createElement("select",{name:"prefix_name",onChange:function(t){return e.setData({prefix_name:t.target.value})},className:"input-half-tourist-edit"},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"prefix"),s.a.createElement("option",{value:"Mr."},"Mr."),s.a.createElement("option",{value:"Ms."},"Ms."),s.a.createElement("option",{value:"Miss."},"Miss."),s.a.createElement("option",{value:"Mrs."},"Mrs.")),s.a.createElement("input",{type:"text",placeholder:"first name",value:this.state.tourist.first_name||"",onChange:function(t){return e.setData({first_name:t.target.value})},className:"input-half-tourist-edit"}),s.a.createElement("input",{type:"text",placeholder:"last_name",value:this.state.tourist.last_name||"",onChange:function(t){return e.setData({last_name:t.target.value})},className:"input-half-tourist-edit"})),s.a.createElement("div",{className:"form-grouping-half-tourist-edit"},s.a.createElement("label",{className:"input-label-half-tourist-edit"},"Gender "),s.a.createElement("label",{className:"input-label-half-tourist-edit"}," Email"),s.a.createElement("label",{className:"input-label-half-tourist-edit"},"Born"),s.a.createElement("select",{name:"gender",onChange:function(t){return e.setData({gender:t.target.value})},className:"input-half-tourist-edit"},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Gender"),s.a.createElement("option",{value:"2"},"Female"),s.a.createElement("option",{value:"1"},"Male"),s.a.createElement("option",{value:"0"},"Other")),s.a.createElement("input",{type:"text",placeholder:"email",value:this.state.tourist.email||"",onChange:function(t){return e.setData({email:t.target.value})},className:"input-half-tourist-edit"}),s.a.createElement("input",{type:"text",onFocus:this.onFocus,onBlur:this.onBlurborn,required:!0,placeholder:"born Date",value:this.state.tourist.born||"",onChange:function(t){return e.setData({born:t.target.value})},className:"input-half-tourist-edit"})),s.a.createElement("div",{class:"form-grouping-half-tourist-edit"},s.a.createElement("label",{className:"input-label-half-tourist-edit"}," Phone Number"),s.a.createElement("label",{className:"input-label-half-tourist-edit"},"Cin Number / Passport Number"),s.a.createElement("label",{className:"input-label-half-tourist-edit"}," Country"),s.a.createElement("input",{type:"text",placeholder:"phone_number",value:this.state.tourist.phone_number||"",onChange:function(t){return e.setData({phone_number:t.target.value})},className:"input-half-tourist-edit"}),s.a.createElement("input",{type:"text",placeholder:"cin_number",value:this.state.tourist.cin_number||this.state.tourist.passport_number||"",onChange:function(t){return e.setData({cin_number:t.target.value})},className:"input-half-tourist-edit"}),s.a.createElement("select",{name:"country",onChange:function(t){return e.setData({country:t.target.value})},className:"input-half-tourist-edit"},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Country"),s.a.createElement("option",{value:"AF"},"Afghanistan"),s.a.createElement("option",{value:"AX"},"\xc5land Islands"),s.a.createElement("option",{value:"AL"},"Albania"),s.a.createElement("option",{value:"DZ"},"Algeria"),s.a.createElement("option",{value:"AS"},"American Samoa"),s.a.createElement("option",{value:"AD"},"Andorra"),s.a.createElement("option",{value:"AO"},"Angola"),s.a.createElement("option",{value:"AI"},"Anguilla"),s.a.createElement("option",{value:"AQ"},"Antarctica"),s.a.createElement("option",{value:"AG"},"Antigua and Barbuda"),s.a.createElement("option",{value:"AR"},"Argentina"),s.a.createElement("option",{value:"AM"},"Armenia"),s.a.createElement("option",{value:"AW"},"Aruba"),s.a.createElement("option",{value:"AU"},"Australia"),s.a.createElement("option",{value:"AT"},"Austria"),s.a.createElement("option",{value:"AZ"},"Azerbaijan"),s.a.createElement("option",{value:"BS"},"Bahamas"),s.a.createElement("option",{value:"BH"},"Bahrain"),s.a.createElement("option",{value:"BD"},"Bangladesh"),s.a.createElement("option",{value:"BB"},"Barbados"),s.a.createElement("option",{value:"BY"},"Belarus"),s.a.createElement("option",{value:"BE"},"Belgium"),s.a.createElement("option",{value:"BZ"},"Belize"),s.a.createElement("option",{value:"BJ"},"Benin"),s.a.createElement("option",{value:"BM"},"Bermuda"),s.a.createElement("option",{value:"BT"},"Bhutan"),s.a.createElement("option",{value:"BO"},"Bolivia, Plurinational State of"),s.a.createElement("option",{value:"BQ"},"Bonaire, Sint Eustatius and Saba"),s.a.createElement("option",{value:"BA"},"Bosnia and Herzegovina"),s.a.createElement("option",{value:"BW"},"Botswana"),s.a.createElement("option",{value:"BV"},"Bouvet Island"),s.a.createElement("option",{value:"BR"},"Brazil"),s.a.createElement("option",{value:"IO"},"British Indian Ocean Territory"),s.a.createElement("option",{value:"BN"},"Brunei Darussalam"),s.a.createElement("option",{value:"BG"},"Bulgaria"),s.a.createElement("option",{value:"BF"},"Burkina Faso"),s.a.createElement("option",{value:"BI"},"Burundi"),s.a.createElement("option",{value:"KH"},"Cambodia"),s.a.createElement("option",{value:"CM"},"Cameroon"),s.a.createElement("option",{value:"CA"},"Canada"),s.a.createElement("option",{value:"CV"},"Cape Verde"),s.a.createElement("option",{value:"KY"},"Cayman Islands"),s.a.createElement("option",{value:"CF"},"Central African Republic"),s.a.createElement("option",{value:"TD"},"Chad"),s.a.createElement("option",{value:"CL"},"Chile"),s.a.createElement("option",{value:"CN"},"China"),s.a.createElement("option",{value:"CX"},"Christmas Island"),s.a.createElement("option",{value:"CC"},"Cocos (Keeling) Islands"),s.a.createElement("option",{value:"CO"},"Colombia"),s.a.createElement("option",{value:"KM"},"Comoros"),s.a.createElement("option",{value:"CG"},"Congo"),s.a.createElement("option",{value:"CD"},"Congo, the Democratic Republic of the"),s.a.createElement("option",{value:"CK"},"Cook Islands"),s.a.createElement("option",{value:"CR"},"Costa Rica"),s.a.createElement("option",{value:"CI"},"C\xf4te d'Ivoire"),s.a.createElement("option",{value:"HR"},"Croatia"),s.a.createElement("option",{value:"CU"},"Cuba"),s.a.createElement("option",{value:"CW"},"Cura\xe7ao"),s.a.createElement("option",{value:"CY"},"Cyprus"),s.a.createElement("option",{value:"CZ"},"Czech Republic"),s.a.createElement("option",{value:"DK"},"Denmark"),s.a.createElement("option",{value:"DJ"},"Djibouti"),s.a.createElement("option",{value:"DM"},"Dominica"),s.a.createElement("option",{value:"DO"},"Dominican Republic"),s.a.createElement("option",{value:"EC"},"Ecuador"),s.a.createElement("option",{value:"EG"},"Egypt"),s.a.createElement("option",{value:"SV"},"El Salvador"),s.a.createElement("option",{value:"GQ"},"Equatorial Guinea"),s.a.createElement("option",{value:"ER"},"Eritrea"),s.a.createElement("option",{value:"EE"},"Estonia"),s.a.createElement("option",{value:"ET"},"Ethiopia"),s.a.createElement("option",{value:"FK"},"Falkland Islands (Malvinas)"),s.a.createElement("option",{value:"FO"},"Faroe Islands"),s.a.createElement("option",{value:"FJ"},"Fiji"),s.a.createElement("option",{value:"FI"},"Finland"),s.a.createElement("option",{value:"FR"},"France"),s.a.createElement("option",{value:"GF"},"French Guiana"),s.a.createElement("option",{value:"PF"},"French Polynesia"),s.a.createElement("option",{value:"TF"},"French Southern Territories"),s.a.createElement("option",{value:"GA"},"Gabon"),s.a.createElement("option",{value:"GM"},"Gambia"),s.a.createElement("option",{value:"GE"},"Georgia"),s.a.createElement("option",{value:"DE"},"Germany"),s.a.createElement("option",{value:"GH"},"Ghana"),s.a.createElement("option",{value:"GI"},"Gibraltar"),s.a.createElement("option",{value:"GR"},"Greece"),s.a.createElement("option",{value:"GL"},"Greenland"),s.a.createElement("option",{value:"GD"},"Grenada"),s.a.createElement("option",{value:"GP"},"Guadeloupe"),s.a.createElement("option",{value:"GU"},"Guam"),s.a.createElement("option",{value:"GT"},"Guatemala"),s.a.createElement("option",{value:"GG"},"Guernsey"),s.a.createElement("option",{value:"GN"},"Guinea"),s.a.createElement("option",{value:"GW"},"Guinea-Bissau"),s.a.createElement("option",{value:"GY"},"Guyana"),s.a.createElement("option",{value:"HT"},"Haiti"),s.a.createElement("option",{value:"HM"},"Heard Island and McDonald Islands"),s.a.createElement("option",{value:"VA"},"Holy See (Vatican City State)"),s.a.createElement("option",{value:"HN"},"Honduras"),s.a.createElement("option",{value:"HK"},"Hong Kong"),s.a.createElement("option",{value:"HU"},"Hungary"),s.a.createElement("option",{value:"IS"},"Iceland"),s.a.createElement("option",{value:"IN"},"India"),s.a.createElement("option",{value:"ID"},"Indonesia"),s.a.createElement("option",{value:"IR"},"Iran, Islamic Republic of"),s.a.createElement("option",{value:"IQ"},"Iraq"),s.a.createElement("option",{value:"IE"},"Ireland"),s.a.createElement("option",{value:"IM"},"Isle of Man"),s.a.createElement("option",{value:"IL"},"Israel"),s.a.createElement("option",{value:"IT"},"Italy"),s.a.createElement("option",{value:"JM"},"Jamaica"),s.a.createElement("option",{value:"JP"},"Japan"),s.a.createElement("option",{value:"JE"},"Jersey"),s.a.createElement("option",{value:"JO"},"Jordan"),s.a.createElement("option",{value:"KZ"},"Kazakhstan"),s.a.createElement("option",{value:"KE"},"Kenya"),s.a.createElement("option",{value:"KI"},"Kiribati"),s.a.createElement("option",{value:"KP"},"Korea, Democratic People's Republic of"),s.a.createElement("option",{value:"KR"},"Korea, Republic of"),s.a.createElement("option",{value:"KW"},"Kuwait"),s.a.createElement("option",{value:"KG"},"Kyrgyzstan"),s.a.createElement("option",{value:"LA"},"Lao People's Democratic Republic"),s.a.createElement("option",{value:"LV"},"Latvia"),s.a.createElement("option",{value:"LB"},"Lebanon"),s.a.createElement("option",{value:"LS"},"Lesotho"),s.a.createElement("option",{value:"LR"},"Liberia"),s.a.createElement("option",{value:"LY"},"Libya"),s.a.createElement("option",{value:"LI"},"Liechtenstein"),s.a.createElement("option",{value:"LT"},"Lithuania"),s.a.createElement("option",{value:"LU"},"Luxembourg"),s.a.createElement("option",{value:"MO"},"Macao"),s.a.createElement("option",{value:"MK"},"Macedonia, the former Yugoslav Republic of"),s.a.createElement("option",{value:"MG"},"Madagascar"),s.a.createElement("option",{value:"MW"},"Malawi"),s.a.createElement("option",{value:"MY"},"Malaysia"),s.a.createElement("option",{value:"MV"},"Maldives"),s.a.createElement("option",{value:"ML"},"Mali"),s.a.createElement("option",{value:"MT"},"Malta"),s.a.createElement("option",{value:"MH"},"Marshall Islands"),s.a.createElement("option",{value:"MQ"},"Martinique"),s.a.createElement("option",{value:"MR"},"Mauritania"),s.a.createElement("option",{value:"MU"},"Mauritius"),s.a.createElement("option",{value:"YT"},"Mayotte"),s.a.createElement("option",{value:"MX"},"Mexico"),s.a.createElement("option",{value:"FM"},"Micronesia, Federated States of"),s.a.createElement("option",{value:"MD"},"Moldova, Republic of"),s.a.createElement("option",{value:"MC"},"Monaco"),s.a.createElement("option",{value:"MN"},"Mongolia"),s.a.createElement("option",{value:"ME"},"Montenegro"),s.a.createElement("option",{value:"MS"},"Montserrat"),s.a.createElement("option",{value:"MA"},"Morocco"),s.a.createElement("option",{value:"MZ"},"Mozambique"),s.a.createElement("option",{value:"MM"},"Myanmar"),s.a.createElement("option",{value:"NA"},"Namibia"),s.a.createElement("option",{value:"NR"},"Nauru"),s.a.createElement("option",{value:"NP"},"Nepal"),s.a.createElement("option",{value:"NL"},"Netherlands"),s.a.createElement("option",{value:"NC"},"New Caledonia"),s.a.createElement("option",{value:"NZ"},"New Zealand"),s.a.createElement("option",{value:"NI"},"Nicaragua"),s.a.createElement("option",{value:"NE"},"Niger"),s.a.createElement("option",{value:"NG"},"Nigeria"),s.a.createElement("option",{value:"NU"},"Niue"),s.a.createElement("option",{value:"NF"},"Norfolk Island"),s.a.createElement("option",{value:"MP"},"Northern Mariana Islands"),s.a.createElement("option",{value:"NO"},"Norway"),s.a.createElement("option",{value:"OM"},"Oman"),s.a.createElement("option",{value:"PK"},"Pakistan"),s.a.createElement("option",{value:"PW"},"Palau"),s.a.createElement("option",{value:"PS"},"Palestinian Territory, Occupied"),s.a.createElement("option",{value:"PA"},"Panama"),s.a.createElement("option",{value:"PG"},"Papua New Guinea"),s.a.createElement("option",{value:"PY"},"Paraguay"),s.a.createElement("option",{value:"PE"},"Peru"),s.a.createElement("option",{value:"PH"},"Philippines"),s.a.createElement("option",{value:"PN"},"Pitcairn"),s.a.createElement("option",{value:"PL"},"Poland"),s.a.createElement("option",{value:"PT"},"Portugal"),s.a.createElement("option",{value:"PR"},"Puerto Rico"),s.a.createElement("option",{value:"QA"},"Qatar"),s.a.createElement("option",{value:"RE"},"R\xe9union"),s.a.createElement("option",{value:"RO"},"Romania"),s.a.createElement("option",{value:"RU"},"Russian Federation"),s.a.createElement("option",{value:"RW"},"Rwanda"),s.a.createElement("option",{value:"BL"},"Saint Barth\xe9lemy"),s.a.createElement("option",{value:"SH"},"Saint Helena, Ascension and Tristan da Cunha"),s.a.createElement("option",{value:"KN"},"Saint Kitts and Nevis"),s.a.createElement("option",{value:"LC"},"Saint Lucia"),s.a.createElement("option",{value:"MF"},"Saint Martin (French part)"),s.a.createElement("option",{value:"PM"},"Saint Pierre and Miquelon"),s.a.createElement("option",{value:"VC"},"Saint Vincent and the Grenadines"),s.a.createElement("option",{value:"WS"},"Samoa"),s.a.createElement("option",{value:"SM"},"San Marino"),s.a.createElement("option",{value:"ST"},"Sao Tome and Principe"),s.a.createElement("option",{value:"SA"},"Saudi Arabia"),s.a.createElement("option",{value:"SN"},"Senegal"),s.a.createElement("option",{value:"RS"},"Serbia"),s.a.createElement("option",{value:"SC"},"Seychelles"),s.a.createElement("option",{value:"SL"},"Sierra Leone"),s.a.createElement("option",{value:"SG"},"Singapore"),s.a.createElement("option",{value:"SX"},"Sint Maarten (Dutch part)"),s.a.createElement("option",{value:"SK"},"Slovakia"),s.a.createElement("option",{value:"SI"},"Slovenia"),s.a.createElement("option",{value:"SB"},"Solomon Islands"),s.a.createElement("option",{value:"SO"},"Somalia"),s.a.createElement("option",{value:"ZA"},"South Africa"),s.a.createElement("option",{value:"GS"},"South Georgia and the South Sandwich Islands"),s.a.createElement("option",{value:"SS"},"South Sudan"),s.a.createElement("option",{value:"ES"},"Spain"),s.a.createElement("option",{value:"LK"},"Sri Lanka"),s.a.createElement("option",{value:"SD"},"Sudan"),s.a.createElement("option",{value:"SR"},"Suriname"),s.a.createElement("option",{value:"SJ"},"Svalbard and Jan Mayen"),s.a.createElement("option",{value:"SZ"},"Swaziland"),s.a.createElement("option",{value:"SE"},"Sweden"),s.a.createElement("option",{value:"CH"},"Switzerland"),s.a.createElement("option",{value:"SY"},"Syrian Arab Republic"),s.a.createElement("option",{value:"TW"},"Taiwan, Province of China"),s.a.createElement("option",{value:"TJ"},"Tajikistan"),s.a.createElement("option",{value:"TZ"},"Tanzania, United Republic of"),s.a.createElement("option",{value:"TH"},"Thailand"),s.a.createElement("option",{value:"TL"},"Timor-Leste"),s.a.createElement("option",{value:"TG"},"Togo"),s.a.createElement("option",{value:"TK"},"Tokelau"),s.a.createElement("option",{value:"TO"},"Tonga"),s.a.createElement("option",{value:"TT"},"Trinidad and Tobago"),s.a.createElement("option",{value:"TN"},"Tunisia"),s.a.createElement("option",{value:"TR"},"Turkey"),s.a.createElement("option",{value:"TM"},"Turkmenistan"),s.a.createElement("option",{value:"TC"},"Turks and Caicos Islands"),s.a.createElement("option",{value:"TV"},"Tuvalu"),s.a.createElement("option",{value:"UG"},"Uganda"),s.a.createElement("option",{value:"UA"},"Ukraine"),s.a.createElement("option",{value:"AE"},"United Arab Emirates"),s.a.createElement("option",{value:"GB"},"United Kingdom"),s.a.createElement("option",{value:"US"},"United States"),s.a.createElement("option",{value:"UM"},"United States Minor Outlying Islands"),s.a.createElement("option",{value:"UY"},"Uruguay"),s.a.createElement("option",{value:"UZ"},"Uzbekistan"),s.a.createElement("option",{value:"VU"},"Vanuatu"),s.a.createElement("option",{value:"VE"},"Venezuela, Bolivarian Republic of"),s.a.createElement("option",{value:"VN"},"Viet Nam"),s.a.createElement("option",{value:"VG"},"Virgin Islands, British"),s.a.createElement("option",{value:"VI"},"Virgin Islands, U.S."),s.a.createElement("option",{value:"WF"},"Wallis and Futuna"),s.a.createElement("option",{value:"EH"},"Western Sahara"),s.a.createElement("option",{value:"YE"},"Yemen"),s.a.createElement("option",{value:"ZM"},"Zambia"),s.a.createElement("option",{value:"ZW"},"Zimbabwe"))),s.a.createElement("div",{class:"form-grouping-half-tourist-edit"},s.a.createElement("label",{className:"input-label-half-tourist-edit"}," City"),s.a.createElement("label",{className:"input-label-half-tourist-edit"},"Zip Code"),s.a.createElement("label",{className:"input-label-half-tourist-edit"}," Address "),s.a.createElement("input",{type:"text",placeholder:"city",value:this.state.tourist.city||"",onChange:function(t){return e.setData({city:t.target.value})},className:"input-half-tourist-edit"}),s.a.createElement("input",{type:"text",placeholder:"zip_code",value:this.state.tourist.zip_code||"",onChange:function(t){return e.setData({zip_code:t.target.value})},className:"input-half-tourist-edit"}),s.a.createElement("input",{type:"text",placeholder:"address_1",value:this.state.tourist.address_1||"",onChange:function(t){return e.setData({address_1:t.target.value})},className:"input-half-tourist-edit"})),s.a.createElement("div",{class:"form-grouping-half-tourist-edit"},s.a.createElement("label",{className:"input-label-half-tourist-edit"}," Check In"),s.a.createElement("label",{className:"input-label-half-tourist-edit"},"Check Out"),s.a.createElement("label",{className:"input-label-half-tourist-edit"}),s.a.createElement("input",{type:"text",onFocus:this.onFocus,onBlur:this.onBlurin,required:!0,placeholder:"check in Date",value:this.state.tourist.check_in||"",onChange:function(t){return e.setData({check_in:t.target.value})},className:"input-half-tourist-edit"}),s.a.createElement("input",{type:"text",onFocus:this.onFocus,onBlur:this.onBlurout,required:!0,placeholder:"check out Date",value:this.state.tourist.check_out||"",onChange:function(t){return e.setData({check_out:t.target.value})},className:"input-half-tourist-edit"}),s.a.createElement("button",{onClick:this.send},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Confirm"))))}}]),t}(n.Component));at.contextType=x;var nt=at,st=(a(387),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={data:{hotel_id:n.context.hotel_id[0],parent_id:n.props.match.params.id,type:1,categories:"['Dish']",content_manager:1,state:1},alert_message:[],sucess_message:""},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"setData",value:function(e){this.setState({data:Object(u.a)({},this.state.data,{},e)})}},{key:"componentDidMount",value:function(){console.log(this.state.data.title_fr,"titlefr"),console.log(this.state.data.parent_id,"datayadata")}},{key:"callbackFunction",value:function(e){this.state({message:e})}},{key:"send",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(this.setState({alert_message:[]}));case 2:if(/[a-z]{1,10}/.test(this.state.data.title)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid title!"])}),/[a-z]{1,10}/.test(this.state.data.description)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid description!"])}),/[a-z]{1,10}/.test(this.state.data.summery)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid summery!"])}),0!=this.state.alert_message.length){t.next=8;break}return t.next=8,c.a.awrap(f("post",this.state.data,"POST"));case 8:if(!this.state.data.title_fr){t.next=22;break}if((e={post_id:this.state.data.id}).title=this.state.data.title_fr,e.description=this.state.data.description_fr||"",e.lang_iso="fr",e.summery=this.state.data.summery_fr||"",/[a-z]{1,10}/.test(this.state.data.title_fr)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid title_fr!"])}),/[a-z]{1,10}/.test(this.state.data.description_fr)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid .description_fr!"])}),/[a-z]{1,10}/.test(this.state.data.summery_fr)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid .summery_fr!"])}),0!=this.state.alert_message.length){t.next=20;break}return t.next=20,c.a.awrap(f("posts_translate",e,"POST"));case 20:console.log(this.state.data,"Data"),0==this.state.alert_message.length&&this.setState({sucess_message:"success"});case 22:window.location.href=new URLSearchParams(window.location.search).get("return");case 23:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return console.log(this.state.data,"restaurantserviceid"),s.a.createElement("div",null,s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),s.a.createElement("div",{className:"restaurant-form-container"},s.a.createElement("div",{className:"left-preview"},s.a.createElement("div",{className:"arrow-right",style:{display:this.state.data.imagePreviewUrl?"":"none"}}),s.a.createElement("img",{src:"/img/ui/c15pro.png",alt:"phone_photo",className:"restaurant-c15-phone"}),s.a.createElement("div",{className:"restaurant-preview-box"},s.a.createElement("p",{style:{color:this.props.themeColor}},this.state.data.title),s.a.createElement("img",{src:this.state.data.imagePreviewUrl?this.state.data.imagePreviewUrl:"/img/ui/no-photo.png",style:{borderLeft:this.state.data.imagePreviewUrl?"":"1px dashed gray"},alt:"Preview Template"}))),s.a.createElement(qe,{data:this.state.data,id:this.state.data.parent_id,send:this.send,setData:this.setData,className:"form-navigator"},s.a.createElement(We,{title:"Image + Title",setData:this.setData,data:this.state.data}),s.a.createElement(Ye,{title:"Description",setData:this.setData,data:this.state.data}))))}}]),t}(n.Component));st.contextType=x;var rt=st,it=(a(388),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={image_right_url:"https://i.imgur.com/3uIohbn.jpg",expandeble_text:"expanded textt",sound:"ripple"},n.notify=n.notify.bind(Object(v.a)(n)),n.upload=n.upload.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"notify",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(f("notif_hotels_devices",{hotel_id:this.context.hotel_id[0],data:this.state},"POST"));case 2:e.sent;case 3:case"end":return e.stop()}}),null,this)}},{key:"upload",value:function(e){var t,a;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",document.getElementsByName("image")[0].files[0]),e.next=4,c.a.awrap(b("upload",t,"POST"));case 4:a=e.sent,this.setState({image:a.image});case 6:case"end":return e.stop()}}),null,this)}},{key:"ellipsis",value:function(e){return(e=String(e)).substring(0,3)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{id:"c15-phone"},s.a.createElement("p",null,"Preview"),s.a.createElement("div",{className:"preview"},s.a.createElement("div",{className:"arrow-right",style:{display:this.state.image?"":"none"}}),s.a.createElement("div",{className:"price"},s.a.createElement("span",{className:"price"},this.state.price,s.a.createElement("sup",{style:{display:this.state.price?"inline":"none"}},"Dt")),s.a.createElement("span",{className:"promo",style:{display:this.state.price_promo?"inline":"none"}},this.state.price_promo&&this.state.price_promo.length>3?this.ellipsis(this.state.price_promo):this.state.price_promo,"%")),s.a.createElement("img",{src:this.state.image?this.state.image:"/img/ui/no-photo.png",style:{borderLeft:this.state.image?"":"1px dashed gray"},alt:"Preview Template"}),s.a.createElement("h2",null,this.state.title),s.a.createElement("p",null,this.state.summery)),s.a.createElement("img",{src:"/img/ui/c15pro.png",alt:"mobile-phone"})),s.a.createElement("div",{className:"forms"},s.a.createElement("div",{id:"target-container"},s.a.createElement("div",{className:"title-target"},s.a.createElement("p",null,"Target")),s.a.createElement("div",{className:"body-target"},s.a.createElement("p",null,"Notify everyone or specify a target"),s.a.createElement("div",{className:"target"},s.a.createElement("label",{className:"target-label"},s.a.createElement("div",{className:"radio"},s.a.createElement("div",{className:"radio-content"},s.a.createElement("img",{src:"/img/ui/all-the-world.png",alt:"people-image"}),s.a.createElement("input",{type:"radio",name:"target"}),s.a.createElement("span",null,"Everyone"),s.a.createElement("span",{className:"checkmark"})))),s.a.createElement("div",{className:"button"},s.a.createElement(X.a,{trigger:s.a.createElement("button",{className:"button-target",id:"button-target"}," ",s.a.createElement("div",{className:"image"},s.a.createElement("img",{src:"/img/ui/target.png",alt:"target"}))," ",s.a.createElement("div",{className:"text"},"Create a target")),modal:!0},(function(e){return s.a.createElement("div",{className:"popup"},s.a.createElement("div",{className:"popup-interne"},s.a.createElement("div",{className:"title-modal"},s.a.createElement("div",{className:"text"},s.a.createElement("p",null,"Create a target")),s.a.createElement("div",{className:"cross",id:"cross"},s.a.createElement("span",{onClick:function(){e()}},"\xd7"))),s.a.createElement("div",{className:"body-modal"},s.a.createElement("div",{className:"platform"}),s.a.createElement("div",{className:"first-button"},s.a.createElement("button",{className:"add-bt"},s.a.createElement("div",{className:"add-condition"},s.a.createElement("div",{className:"icon"},s.a.createElement("img",{src:"/img/ui/plus.png",alt:"add"})),s.a.createElement("div",{className:"text"},"Add a condition")))),s.a.createElement("div",{className:"second-button"},s.a.createElement("button",{className:"save-button"},s.a.createElement("div",{className:"save-target"},s.a.createElement("div",{className:"icon"},s.a.createElement("img",{src:"/img/ui/down-arrow.png",alt:"save"})),s.a.createElement("div",{className:"text"},"Save the target for the future"))))),s.a.createElement("div",{className:"confirm-container"},s.a.createElement("div",{className:"confirm-button"},s.a.createElement("button",null,s.a.createElement("div",{className:"confirm"},s.a.createElement("div",{className:"image"},s.a.createElement("img",{src:"/img/ui/tick.png",alt:"tick"})),s.a.createElement("div",{className:"text"},"Validate")))))))})))))),s.a.createElement("div",{id:"notification-container"},s.a.createElement("div",{className:"title-notification"},s.a.createElement("p",null,"NOTIFICATION")),s.a.createElement("div",{className:"body-notification"},s.a.createElement("p",null,"Message Details"),s.a.createElement("div",{className:"first-container"},s.a.createElement("div",{className:"text-container"},s.a.createElement("div",{className:"title"},s.a.createElement("label",{for:"title"},s.a.createElement("p",null,"Title*:")),s.a.createElement("input",{onInput:function(t){return e.setState({title:t.target.value})},type:"text",name:"notification_title",id:"title"})),s.a.createElement("div",{className:"description"},s.a.createElement("label",{for:"description"},s.a.createElement("p",null,"Description*:")),s.a.createElement("textarea",{onInput:function(t){return e.setState({summery:t.target.value})},name:"notification_description",value:this.state.summery,id:"description"},this.state.summery))),s.a.createElement("div",{className:"image-container"},s.a.createElement("p",null,"Image:"),s.a.createElement(Ke.a,{fileContainerStyle:{height:"152px",marginRight:"17px"},onChange:this.upload,label:"Max file size: 2MB | Allowed formats: jpg, png",maxFileSize:"2097152",name:"image"}))),s.a.createElement("div",{className:"second-container"},s.a.createElement("div",{className:"price"},s.a.createElement("label",{for:"price"},s.a.createElement("p",null,"Price:")),s.a.createElement("input",{type:"text",onInput:function(t){return e.setState({price:t.target.value})},name:"notification_price",id:"price",placeholder:"DT"})),s.a.createElement("div",{className:"promo"},s.a.createElement("label",{for:"promo"},s.a.createElement("p",null,"Promo:")),s.a.createElement("input",{type:"text",name:"notification_promo",onInput:function(t){return e.setState({price_promo:t.target.value})},id:"promo",placeholder:"%"}))),s.a.createElement("button",{onClick:this.notify,className:"send-button",id:"send-button"},s.a.createElement("div",{className:"image"},s.a.createElement("img",{src:"/img/ui/target.png",alt:"target"})),s.a.createElement("div",{className:"text"},"Send")))))))}}]),t}(n.Component));it.contextType=x;var lt=it,ct=(a(389),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={id:n.props.match.params.id,data:{id:n.id}},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"setData",value:function(e){this.setState({data:Object(u.a)({},this.state.data,{},e)})}},{key:"isRestaurant",value:function(){this.props.isRestaurant}},{key:"send",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(this.state.data),a.next=3,c.a.awrap(f("post/"+this.state.id,this.state.data,"PUT"));case 3:if(!this.state.data.title_fr){a.next=13;break}return(e={post_id:this.state.id}).title=this.state.data.title_fr,e.description=this.state.data.description_fr||"",e.lang_iso="fr",e.summery=this.state.data.summery_fr||"",a.next=11,c.a.awrap(f("posts_translate",e,"POST"));case 11:t=a.sent,console.log(t);case 13:case"end":return a.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("post/"+this.state.id));case 2:e=t.sent,this.setState({data:e.data[0]}),console.log(this.state.data);case 5:case"end":return t.stop()}}),null,this)}},{key:"ellipsis",value:function(e){return(e=String(e)).substring(0,3)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"drink-form-container"},s.a.createElement("div",{className:"drink-left-preview"},s.a.createElement("div",{className:"drink-arrow-right",style:{display:this.state.data.image?"":"none"}}),s.a.createElement("img",{src:"/img/ui/c15pro.png",alt:"phone_photo",className:"drink-c15-phone"}),s.a.createElement("div",{className:"drink-preview-box",style:{borderLeft:"4px solid"+this.props.themeColor}},s.a.createElement("p",{style:{color:this.props.themeColor}},this.state.data.title),s.a.createElement("img",{src:this.state.data.image?this.state.data.image:"/img/ui/no-photo.png",style:{borderLeft:this.state.data.image?"":"1px dashed gray"},alt:"Preview Template"}),s.a.createElement("p",{className:"drink-price"},this.state.data.price,s.a.createElement("sup",{style:{display:this.state.data.price?"inline":"none"}},"Dt")),s.a.createElement("span",{className:"drink-promo",style:{display:this.state.data.price_promo?"inline":"none"}},this.state.data.price_promo&&this.state.data.price_promo.length>3?this.ellipsis(this.state.data.price_promo)+"...":this.state.data.price_promo,"%"))),s.a.createElement(qe,{data:this.state.data,send:this.send},s.a.createElement(We,{title:"Image + Title",setData:this.setData,data:this.state.data}),s.a.createElement(Ye,{title:"Description",setData:this.setData,data:this.state.data}),s.a.createElement(Ze,{title:"Price",setData:this.setData,data:this.state.data}))))}}]),t}(n.Component));ct.contextType=x;var ot=ct,ut=(a(390),a(391),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={room:"",tourist:"",device:"",reservation:0,status:"",device_imei:"",search_type:0,search_text:"",search_placeholder:"Select Search Type"},a.changeType=a.changeType.bind(Object(v.a)(a)),a.changeState=a.changeState.bind(Object(v.a)(a)),a.changeReservation=a.changeReservation.bind(Object(v.a)(a)),a.changeSearch=a.changeSearch.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"changeReservation",value:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(this.setState({reservation:e.target.value}));case 2:this.props.update(Object(u.a)({},this.state));case 3:case"end":return t.stop()}}),null,this)}},{key:"changeState",value:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(this.setState({status:e.target.value}));case 2:this.props.update(Object(u.a)({},this.state));case 3:case"end":return t.stop()}}),null,this)}},{key:"changeSearch",value:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(this.setState({search_text:e.target.value}));case 2:t.t0=this.state.search_type,t.next="1"===t.t0?5:"2"===t.t0?8:"3"===t.t0?11:15;break;case 5:return t.next=7,c.a.awrap(this.setState({room:this.state.search_text}));case 7:return t.abrupt("break",15);case 8:return t.next=10,c.a.awrap(this.setState({device_imei:this.state.search_text}));case 10:return t.abrupt("break",15);case 11:return console.log(3),t.next=14,c.a.awrap(this.setState({tourist:this.state.search_text}));case 14:return t.abrupt("break",15);case 15:this.props.update(Object(u.a)({},this.state));case 16:case"end":return t.stop()}}),null,this)}},{key:"changeType",value:function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.target.value,this.setState({tourist:"",room:"",device_imei:""}),a.t0=t,a.next="0"===a.t0?5:"1"===a.t0?8:"2"===a.t0?11:"3"===a.t0?14:18;break;case 5:return a.next=7,c.a.awrap(this.setState({placeholder:"Select Search Type"}));case 7:return a.abrupt("break",18);case 8:return a.next=10,c.a.awrap(this.setState({room:this.state.search_text,search_type:1,search_placeholder:"Room Number"}));case 10:return a.abrupt("break",18);case 11:return a.next=13,c.a.awrap(this.setState({device_imei:this.state.search_text,search_type:2,search_placeholder:"Device IMEI"}));case 13:return a.abrupt("break",18);case 14:return console.log(3),a.next=17,c.a.awrap(this.setState({tourist:this.state.search_text,search_type:3,search_placeholder:"Tourist Name"}));case 17:return a.abrupt("break",18);case 18:return console.log(this.state),a.next=21,c.a.awrap(this.setState({search_type:t,search_text:""}));case 21:this.props.update(Object(u.a)({},this.state));case 22:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"history-search"},s.a.createElement("select",{onInput:this.changeType,className:"round first"},s.a.createElement("option",{value:"0"},"Search type"),s.a.createElement("option",{value:"1"},"Room"),s.a.createElement("option",{value:"2"},"Device"),s.a.createElement("option",{value:"3"},"Tourist")),s.a.createElement("input",{className:"search",placeholder:this.state.search_placeholder,onInput:this.changeSearch,disabled:!this.state.search_type,value:this.state.search_text}),s.a.createElement("select",{onInput:this.changeReservation,className:"round"},s.a.createElement("option",{value:""},"Order/Reservation"),s.a.createElement("option",{value:"0"},"Order"),s.a.createElement("option",{value:"1"},"Reservation")),s.a.createElement("select",{onInput:this.changeState,className:"round"},s.a.createElement("option",{value:""},"State"),s.a.createElement("option",{value:"1"},"Waiting"),s.a.createElement("option",{value:"2"},"In Progress"),s.a.createElement("option",{value:"3"},"Refused"),s.a.createElement("option",{value:"4"},"Delivered")),s.a.createElement("input",{onChange:function(t){return e.props.update({start_date:new Date(t.target.value).valueOf()/1e3})},placeholder:"Start Date",type:"datetime-local"}),s.a.createElement("input",{onChange:function(t){return e.props.update({end_date:new Date(t.target.value).valueOf()/1e3})},placeholder:"End Date",type:"datetime-local"}))}}]),t}(n.Component)),mt=(n.Component,a(392),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={display:0,minutes:0,deny_text:""},a.accept=a.accept.bind(Object(v.a)(a)),a.deny=a.deny.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"accept",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=this.state.display){t.next=7;break}return t.next=3,c.a.awrap(f("shopping_order/accept/"+this.props.order.id,{delay:this.state.minutes},"POST"));case 3:return e=t.sent,this.props.update(Object(u.a)({},e)),this.setState({display:0}),t.abrupt("return");case 7:this.setState({display:1});case 8:case"end":return t.stop()}}),null,this)}},{key:"deny",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(this.state.deny_text),2!=this.state.display){t.next=8;break}return t.next=4,c.a.awrap(f("shopping_order/deny/"+this.props.order.id,{reason:this.state.deny_text},"POST"));case 4:return e=t.sent,this.props.update(Object(u.a)({},e)),this.setState({display:0}),t.abrupt("return");case 8:this.setState({display:2});case 9:case"end":return t.stop()}}),null,this)}},{key:"componentWillUpdate",value:function(e){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"order-popover"},s.a.createElement("div",{className:"button-container"},s.a.createElement("div",{onClick:this.accept,className:"accept "+((1==this.state.display||0==this.state.display)&&"expanded")},s.a.createElement(k.a,{src:"/img/ui/check-symbol.svg"}),s.a.createElement("p",null,"Validate")),s.a.createElement("div",{onClick:this.deny,className:"deny "+((2==this.state.display||0==this.state.display)&&"expanded")},s.a.createElement(k.a,{src:"/img/ui/close.svg"}),s.a.createElement("p",null,"Deny"))),1==this.state.display?s.a.createElement("div",{className:"accept-container"},s.a.createElement("p",null,"Confirm order"),s.a.createElement(k.a,{onClick:function(){return e.setState({minutes:e.state.minutes+1})},src:"/img/ui/sort-up.svg"}),s.a.createElement("p",{style:{marginLeft:"-4px"}},this.state.minutes?this.state.minutes.toString().padStart(2,"0"):"- -"),s.a.createElement(k.a,{onClick:function(){return e.setState({minutes:Math.max(e.state.minutes-1,0)})},src:"/img/ui/sort-down.svg"}),s.a.createElement("p",null,"Delay in minutes")):2==this.state.display?s.a.createElement("div",{className:"deny-container"},s.a.createElement("p",null,"Deny Order"),s.a.createElement("textarea",{onInput:function(t){return e.setState({deny_text:t.target.value})}})):null)}}]),t}(n.Component)),ht=(a(393),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={historyItems:[]},a.toggle=a.toggle.bind(Object(v.a)(a)),a.update=a.update.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("shopping_orders"));case 2:e=t.sent,this.setState({historyItems:e.data.filter((function(e){return 0!=e.status})).map((function(e){return Object(u.a)({},e,{show:!1})}))});case 4:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){}},{key:"renderStatus",value:function(e){switch(e){case 1:return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{style:{backgroundColor:"#F0B17A"}}),s.a.createElement("p",null,"Waiting"));case 2:return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{style:{backgroundColor:"#879CBF"}}),s.a.createElement("p",null,"In Progress"));case 3:return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{style:{backgroundColor:"#CF6E6E"}}),s.a.createElement("p",null,"Refused"));case 4:return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{style:{backgroundColor:"#86C7CC"}}),s.a.createElement("p",null,"Delivered"))}}},{key:"update",value:function(e,t){var a=Object(o.a)(this.state.historyItems);a[e]=Object(u.a)({},a[e],{},t,{show:!1}),this.setState({historyItems:Object(o.a)(a)})}},{key:"formatDate",value:function(e){var t=new Date(e);return s.a.createElement("p",null,t.getHours()+":"+t.getMinutes(),s.a.createElement("br",null),t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear())}},{key:"filterOrders",value:function(e){var t=this,a=e.filter((function(e){return new RegExp(t.props.data.room,"i").test(e.room_number)})).filter((function(e){return new RegExp(t.props.data.device_imei,"i").test(e.device_imei)})).filter((function(e){return new RegExp(t.props.data.tourist,"i").test(e.tourist.name)})).filter((function(e){return new RegExp(t.props.data.status,"i").test(e.status)})).filter((function(e){return new RegExp(t.props.data.reservation,"i").test(e.reservation)}));return console.log(this.props.data.start_date),console.log(this.props.data.end_date),this.props.data.start_date&&(a=a.filter((function(e){return console.log(e.created_at),e.created_at>t.props.data.start_date}))),this.props.data.end_date&&(a=a.filter((function(e){return e.created_at<t.props.data.end_date}))),a}},{key:"toggle",value:function(e){var t=this.state.historyItems.map((function(t,a){return e==a?Object(u.a)({},t):Object(u.a)({},t,{show:!1})}));t[e].show=!t[e].show,this.setState({historyItems:Object(o.a)(t)})}},{key:"componentDidCatch",value:function(){this.setState({historyItems:[]})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"history-items"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"No."),s.a.createElement("th",null,"Type"),s.a.createElement("th",null,"Tourist"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Delay"),s.a.createElement("th",null,"Price"),s.a.createElement("th",null,"Date"),s.a.createElement("th",null))),s.a.createElement("tbody",null,this.filterOrders(this.state.historyItems).map((function(t,a){return s.a.createElement("tr",null,s.a.createElement("td",null,t.id),s.a.createElement("td",null,t.post.title," ",t.qt>1?"(x"+t.qt+")":""),s.a.createElement("td",null,t.tourist.name),s.a.createElement("td",{className:"status"},e.renderStatus(t.status)),s.a.createElement("td",null,t.delay||"- -"),s.a.createElement("td",null,t.post.price*(100-t.post.price_promo)/100*t.qt,s.a.createElement("sup",null,"TND")),s.a.createElement("td",null,e.formatDate(1e3*t.created_at)),s.a.createElement("td",{className:"relative"},s.a.createElement("div",{className:t.show?"popover":"popover hidden"},s.a.createElement(mt,{order:t,update:function(t){return e.update(a,t)}})),s.a.createElement("img",{onClick:function(){return e.toggle(a)},src:"/img/ui/menu.svg"})))})))))}}]),t}(n.Component)),pt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={data:{room:"",tourist:"",device:"",reservation:0,status:"",device_imei:""},orders:[]},a.setData=a.setData.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"setData",value:function(e){console.log(e),this.setState({data:Object(u.a)({},e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"history-container"},s.a.createElement("img",{src:"/img/sidebar/shopping-list.svg"}),s.a.createElement("p",null,"HISTORY"),s.a.createElement("section",{className:"history"},s.a.createElement(ut,{update:this.setData,data:this.state.data}),s.a.createElement(ht,{data:this.state.data})))}}]),t}(n.Component),dt=(a(394),a(37)),vt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={devices:[],orders:[]},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("devices"));case 2:return e=a.sent,this.setState({devices:e.data}),a.next=6,c.a.awrap(f("shopping_orders"));case 6:t=a.sent,this.setState({orders:t.data});case 8:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.orders.filter((function(e){return 0==e.reservation&&0!=e.status})),t=this.state.orders.filter((function(e){return 1==e.reservation&&0!=e.status}));return s.a.createElement("div",{className:"presentation-container"},s.a.createElement("div",{className:"mobiles"},s.a.createElement("div",{className:"mobile"},s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/eteint.png",className:"image-eteint"})),s.a.createElement("div",null,s.a.createElement("p",{className:"number"},this.state.devices.filter((function(e){return 0==e.status})).length),s.a.createElement("p",{className:"text"},"Inactive Mobiles"))),s.a.createElement("div",{className:"mobile"},s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/active.png",className:"image-eteint"})),s.a.createElement("div",null,s.a.createElement("p",{className:"number"},this.state.devices.filter((function(e){return 1==e.status})).length),s.a.createElement("p",{className:"text"},"Active Mobiles"))),s.a.createElement("div",{className:"mobile"},s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/totalmobile.png",className:"image-eteint"})),s.a.createElement("div",null,s.a.createElement("p",{className:"number"},this.state.devices.length),s.a.createElement("p",{className:"text"},"Total Mobiles")))),s.a.createElement("div",{className:"commands"},s.a.createElement("div",{className:"command"},s.a.createElement("div",null,s.a.createElement("p",{className:"number"},e.length),s.a.createElement("p",{className:"text"},"Total Orders")),s.a.createElement("div",{className:"stat"},s.a.createElement("p",{className:"percentage"},Math.round(e.filter((function(e){return 1==e.status})).length/e.length*100)||0,"%"),s.a.createElement("div",null,s.a.createElement(dt.a,{height:"100",width:"110",data:{labels:["Waiting","Total"],datasets:[{data:[e.filter((function(e){return 1==e.status})).length,e.length],backgroundColor:["#FDCDA3","#111F35"],borderWidth:[0,0]}]},options:{legend:{display:!1},cutoutPercentage:80,responsive:!0,maintainAspectRatio:!1}})),s.a.createElement("p",{style:{color:"#FDCDA3"}},"Waiting")),s.a.createElement("div",{className:"stat"},s.a.createElement("p",{className:"percentage"},Math.round(e.filter((function(e){return 2==e.status})).length/e.length*100)||0,"%"),s.a.createElement("div",null,s.a.createElement(dt.a,{height:"100",width:"110",data:{labels:["Accepted","Total"],datasets:[{data:[e.filter((function(e){return 2==e.status})).length,e.length],backgroundColor:["#879CBF","#111F35"],borderWidth:[0,0]}]},options:{legend:{display:!1},cutoutPercentage:80,responsive:!0,maintainAspectRatio:!1}})),s.a.createElement("p",{style:{color:"#879CBF"}},"Accepted")),s.a.createElement("div",{className:"stat"},s.a.createElement("p",{className:"percentage"},Math.round(e.filter((function(e){return 4==e.status})).length/e.length*100)||0,"%"),s.a.createElement("div",null,s.a.createElement(dt.a,{height:"100",width:"110",data:{labels:["Delivered","Total"],datasets:[{data:[e.filter((function(e){return 4==e.status})).length,e.length],backgroundColor:["#86C7CC","#111F35"],borderWidth:[0,0]}]},options:{legend:{display:!1},cutoutPercentage:80,responsive:!0,maintainAspectRatio:!1}})),s.a.createElement("p",{style:{color:"#86C7CC"}},"Delivered")),s.a.createElement("div",{className:"stat"},s.a.createElement("p",{className:"percentage"},Math.round(e.filter((function(e){return 3==e.status})).length/e.length*100)||0,"%"),s.a.createElement("div",null,s.a.createElement(dt.a,{height:"100",width:"110",data:{labels:["Refused","Total"],datasets:[{data:[e.filter((function(e){return 3==e.status})).length,e.length],backgroundColor:["#CF6E6E","#111F35"],borderWidth:[0,0]}]},options:{legend:{display:!1},cutoutPercentage:80,responsive:!0,maintainAspectRatio:!1}})),s.a.createElement("p",{style:{color:"#CF6E6E"}},"Refused"))),s.a.createElement("div",{className:"command"},s.a.createElement("div",null,s.a.createElement("p",{className:"number"},t.length),s.a.createElement("p",{className:"text"},"Total reservations")),s.a.createElement("div",{className:"stat"},s.a.createElement("p",{className:"percentage"},Math.round(t.filter((function(e){return 1==e.status})).length/t.length*100)||0,"%"),s.a.createElement("div",null,s.a.createElement(dt.a,{height:"100",width:"110",data:{labels:["Waiting","Total"],datasets:[{data:[t.filter((function(e){return 1==e.status})).length,t.length],backgroundColor:["#FDCDA3","#111F35"],borderWidth:[0,0]}]},options:{legend:{display:!1},cutoutPercentage:80,responsive:!0,maintainAspectRatio:!1}})),s.a.createElement("p",{style:{color:"#FDCDA3"}},"Waiting")),s.a.createElement("div",{className:"stat"},s.a.createElement("p",{className:"percentage"},0|Math.round(t.filter((function(e){return 2==e.status})).length/t.length*100),"%"),s.a.createElement("div",null,s.a.createElement(dt.a,{height:"100",width:"110",data:{labels:["Accepted","Total"],datasets:[{data:[t.filter((function(e){return 2==e.status})).length,t.length],backgroundColor:["#879CBF","#111F35"],borderWidth:[0,0]}]},options:{legend:{display:!1},cutoutPercentage:80,responsive:!0,maintainAspectRatio:!1}})),s.a.createElement("p",{style:{color:"#879CBF"}},"Accepted")),s.a.createElement("div",{className:"stat"},s.a.createElement("p",{className:"percentage"},0|Math.round(t.filter((function(e){return 4==e.status})).length/t.length*100),"%"),s.a.createElement("div",null,s.a.createElement(dt.a,{height:"100",width:"110",data:{labels:["Delivered","Total"],datasets:[{data:[t.filter((function(e){return 4==e.status})).length,t.length],backgroundColor:["#86C7CC","#111F35"],borderWidth:[0,0]}]},options:{legend:{display:!1},cutoutPercentage:80,responsive:!0,maintainAspectRatio:!1}})),s.a.createElement("p",{style:{color:"#86C7CC"}},"Delivered")),s.a.createElement("div",{className:"stat"},s.a.createElement("p",{className:"percentage"},0|Math.round(t.filter((function(e){return 3==e.status})).length/t.length*100),"%"),s.a.createElement("div",null,s.a.createElement(dt.a,{height:"100",width:"110",data:{labels:["Refused","Total"],datasets:[{data:[t.filter((function(e){return 3==e.status})).length,t.length],backgroundColor:["#CF6E6E","#111F35"],borderWidth:[0,0]}]},options:{legend:{display:!1},cutoutPercentage:80,responsive:!0,maintainAspectRatio:!1}})),s.a.createElement("p",{style:{color:"#CF6E6E"}},"Refused")))),s.a.createElement("div",{className:"top"},s.a.createElement("div",{className:"stats order"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("th",null,s.a.createElement("td",null,"Top 5 Orders"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"1. Pancakes")),s.a.createElement("tr",null,s.a.createElement("td",null,"2. Cheesecake")),s.a.createElement("tr",null,s.a.createElement("td",null,"3. European-Style Sandwich")),s.a.createElement("tr",null,s.a.createElement("td",null,"4. Black Tea")),s.a.createElement("tr",null,s.a.createElement("td",null,"5. The 24K"))))),s.a.createElement("div",{className:"stats reservation"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("th",null,s.a.createElement("td",null,"Top 5 Reservatons"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"1. Le Foyer")),s.a.createElement("tr",null,s.a.createElement("td",null,"2. Downtown")),s.a.createElement("tr",null,s.a.createElement("td",null,"3. Sumba")),s.a.createElement("tr",null,s.a.createElement("td",null,"4. Black Tea")),s.a.createElement("tr",null,s.a.createElement("td",null,"5. Le Terrasse")))))))}}]),t}(n.Component),Et=(a(428),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={device:{},alert_message:[],visible:"",hotels:[]},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"setData",value:function(e){this.setState({device:Object(u.a)({},this.state.device,{},e)}),console.log(e,"mydevice")}},{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("hotels"));case 2:e=t.sent,this.setState({hotels:e.data}),console.log(this.state.hotels.length,"rrrrrrrrrr");case 5:case"end":return t.stop()}}),null,this)}},{key:"send",value:function(){var e,t,a,n=this;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(this.setState({alert_message:[]}));case 2:return/^[a-zA-Z0-9_.-]*$/.test(this.state.device.imei)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid imei!"])}),/^[0-9]*$/.test(this.state.device.call_time)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid call_time!"])}),/^[0-9]*$/.test(this.state.device.call_limit)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid call_limit!"])}),/^[0-9]*$/.test(this.state.device.number)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid number!"])}),/[a-z]{1,10}/.test(this.state.device.phone)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid phone!"])}),s.next=9,c.a.awrap(f("devices",{hotel_id:this.context.hotel_id[0]}));case 9:e=s.sent,t=0;case 11:if(!(t<e.data.length)){s.next=22;break}if(console.log(e.data[t],"haho el devices"),this.state.device.imei==e.data[t].imei&&this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Imei deja existe!"])}),0!=this.state.alert_message.length){s.next=18;break}return s.next=17,c.a.awrap(f("device",this.state.device,"POST").then((function(e){n.setState({visible:"success"})})).catch((function(e){n.setState({visible:"echec"})})));case 17:a=s.sent;case 18:console.log(a,"hey");case 19:t++,s.next=11;break;case 22:return s.next=24,c.a.awrap(f("device",this.state.device,"POST"));case 24:a=s.sent,console.log(a,"hey"),a?(setTimeout((function(){return document.location.href="/devices"}),1e3),this.setState({visible:"success"})):this.setState({visible:"echec"});case 27:case"end":return s.stop()}}),null,this)}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.state.hotels.length;a++)for(var n=0;n<this.context.hotel_id.length;n++)if(this.state.hotels[a].id==this.context.hotel_id[n]){var r=this.state.hotels[a].hotel_name,i=this.context.hotel_id[n];t.push({nameHotel:r,hotelid:i})}return s.a.createElement("div",{className:"device-form-adds"},s.a.createElement("div",{className:"device-header"},s.a.createElement("div",{className:"title-device"},s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/ajouter_client.png",alt:"phone_photo"})),"Add Device")),s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),"success"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"valide-modal"},s.a.createElement("img",{src:"/img/ui/succes.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"successfully added !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,"echec"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"echec-modal"},s.a.createElement("img",{src:"/img/ui/echec.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"Reinsert information please !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,s.a.createElement("div",{className:"device-inputs"},s.a.createElement("input",{value:this.state.imei,type:"number",required:!0,placeholder:"IMEI",onChange:function(t){e.setData({imei:t.target.value.substr(0,15)}),e.setState({imei:t.target.value.substr(0,15)})}}),s.a.createElement("input",{type:"number",required:!0,placeholder:"Call Time",onChange:function(t){return e.setData({call_time:t.target.value})}}),s.a.createElement("input",{type:"number",required:!0,placeholder:"Call Limite",onChange:function(t){return e.setData({call_limit:t.target.value})}}),s.a.createElement("input",{type:"number",required:!0,placeholder:"SIM Number",onChange:function(t){return e.setData({number:t.target.value})}}),s.a.createElement("input",{type:"text",required:!0,placeholder:"Phone Description",onChange:function(t){return e.setData({phone:t.target.value})}}),s.a.createElement("select",{name:"hotel_id",onChange:function(t){return e.setData({hotel_id:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Hotel Name"),t.map((function(e){return s.a.createElement("option",{value:e.hotelid},e.nameHotel)}))),s.a.createElement("select",{onChange:function(t){return e.setData({intra_flotte:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Intra Flotte?"),s.a.createElement("option",{value:"0"},"No"),s.a.createElement("option",{value:"1"},"Yes")),s.a.createElement("select",{onChange:function(t){return e.setData({status:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Status"),s.a.createElement("option",{value:"0"},"Inactive"),s.a.createElement("option",{value:"1"},"Active")),s.a.createElement("button",{onClick:this.send},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Confirm")))}}]),t}(n.Component));Et.contextType=x;var gt=Et,ft=(a(429),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-grouping-half"},s.a.createElement("label",{className:"input-label-full"},"Location (name)"),s.a.createElement("input",{type:"text",value:this.props.data.location,placeholder:"Location",onChange:function(t){return e.props.setData({location:t.target.value})},className:"input-full"}),s.a.createElement("label",{className:"input-label-full"},"Location (coordinates)"),s.a.createElement("input",{type:"text",value:this.props.data.location_coordinates,placeholder:"Coordinates",onChange:function(t){return e.props.setData({location_coordinates:t.target.value})},className:"input-full"})))}}]),t}(n.Component)),bt=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={data:{parent_id:n.props.match.params.id,type:1,categories:"['Extra Post']",content_manager:1,state:1,title:""}},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"setData",value:function(e){this.setState({data:Object(u.a)({},this.state.data,{},e)})}},{key:"send",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("extra_post",this.state.data,"POST"));case 2:if(e=a.sent,!this.state.data.title_fr){a.next=12;break}return(t={post_id:e.id}).title=this.state.data.title_fr,t.description=this.state.data.description_fr||"",t.lang_iso="fr",t.summery=this.state.data.summery_fr||"",a.next=11,c.a.awrap(f("extra_posts_translate",t,"POST"));case 11:a.sent;case 12:window.location.href=new URLSearchParams(window.location.search).get("return");case 13:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(qe,{data:this.state.data,send:this.send},s.a.createElement(We,{title:"Image + Title",setData:this.setData,data:this.state.data}),s.a.createElement(Ye,{title:"Description",setData:this.setData,data:this.state.data}),s.a.createElement(Ze,{title:"Price",setData:this.setData,data:this.state.data}),s.a.createElement(ft,{title:"Location",setData:this.setData,data:this.state.data})))}}]),t}(n.Component);bt.contextType=x;var yt=bt,xt=(a(430),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={tourist:{hotel_id:n.context.hotel_id[0]},alert_message:[],visible:"",rooms:[]},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("/device_rooms",{hotel_id:this.state.tourist.hotel_id},"GET"));case 2:e=t.sent,this.setState({rooms:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"setData",value:function(e){this.setState({tourist:Object(u.a)({},this.state.tourist,{},e)})}},{key:"send",value:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(this.setState({alert_message:[]}));case 2:if(/[a-z]{1,10}/.test(this.state.tourist.first_name)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid first name!"])}),/[a-z]{1,10}/.test(this.state.tourist.last_name)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid last name!"])}),/^[0-9]*$/.test(this.state.tourist.phone_number)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid phone number!"])}),/^[0-9]*$/.test(this.state.tourist.cin_number)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid cin_number!"])}),/^[0-9]*$/.test(this.state.tourist.zip_code)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid zip_code!"])}),/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(this.state.tourist.email)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid email!"])}),/\d{4}-\d{2}-\d{2}/.test(this.state.tourist.born)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid Date format ,Please try this format(YYYY-MM-DD) !"])}),0!=this.state.alert_message.length){n.next=13;break}return n.next=12,c.a.awrap(f("tourist",this.state.tourist,"POST"));case 12:e=n.sent;case 13:return/\d{4}-\d{2}-\d{2}/.test(this.state.tourist.born)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid Date format ,Please try this format(YYYY-MM-DD) !"])}),n.next=16,c.a.awrap(f("tourists",{hotel_id:this.context.hotel_id[0]}));case 16:for(t=n.sent,a=0;a<t.data.length;a++)this.state.tourist.cin_number==t.data[a].cin_number&&this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["tourist deja inscri!"])});if(0!=this.state.alert_message.length){n.next=22;break}return n.next=21,c.a.awrap(f("tourist",this.state.tourist,"POST"));case 21:e=n.sent;case 22:console.log(e,"tourist"),e||this.setState({visible:"echec"});case 24:case"end":return n.stop()}}),null,this)}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"onFocus",value:function(e){e.currentTarget.type="date"}},{key:"onBlurout",value:function(e){e.currentTarget.type="text",e.currentTarget.placeholder="check out Date"}},{key:"onBlurin",value:function(e){e.currentTarget.type="text",e.currentTarget.placeholder="check in Date"}},{key:"onBlurborn",value:function(e){e.currentTarget.type="text",e.currentTarget.placeholder="Born Date"}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"tourist-form-add"},s.a.createElement("div",{className:"tourist-header"},s.a.createElement("div",{className:"tourist_image"},s.a.createElement("img",{src:"/img/ui/ajjouter_client.png"})),s.a.createElement("div",null,"Add Guest")),s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),"success"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"valide-modal"},s.a.createElement("img",{src:"/img/ui/succes.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"successfully added !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,"echec"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"echec-modal"},s.a.createElement("img",{src:"/img/ui/echec.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"Reinsert information please !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,s.a.createElement("div",{className:"tourist-inputs"},s.a.createElement("select",{name:"prefix_name",onChange:function(t){return e.setData({prefix_name:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"prefix"),s.a.createElement("option",{value:"Mr."},"Mr."),s.a.createElement("option",{value:"Ms."},"Ms."),s.a.createElement("option",{value:"Miss."},"Miss."),s.a.createElement("option",{value:"Mrs."},"Mrs.")),s.a.createElement("input",{type:"text",required:!0,placeholder:"First Name",name:"first_name",onChange:function(t){return e.setData({first_name:t.target.value})}}),s.a.createElement("input",{type:"text",required:!0,placeholder:"Last Name",name:"last_name",onChange:function(t){return e.setData({last_name:t.target.value})}}),s.a.createElement("select",{name:"gender",onChange:function(t){return e.setData({gender:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Gender"),s.a.createElement("option",{value:"2"},"Female"),s.a.createElement("option",{value:"1"},"Male"),s.a.createElement("option",{value:"0"},"Other")),s.a.createElement("input",{type:"email",required:!0,placeholder:"Email",name:"email",onChange:function(t){return e.setData({email:t.target.value})}}),s.a.createElement("input",{type:"text",onFocus:this.onFocus,onBlur:this.onBlurborn,required:!0,placeholder:"Born",name:"born",onChange:function(t){return e.setData({born:t.target.value})}}),s.a.createElement("input",{type:"number",required:!0,placeholder:"Phone number",name:"phone_number",onChange:function(t){return e.setData({phone_number:t.target.value})}}),s.a.createElement("input",{type:"number",required:!0,placeholder:"CIN Number / Passport Number",name:"cin_number",onChange:function(t){return e.setData({cin_number:t.target.value})}}),s.a.createElement("select",{name:"country",onChange:function(t){return e.setData({country:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Country"),s.a.createElement("option",{value:"AF"},"Afghanistan"),s.a.createElement("option",{value:"AX"},"\xc5land Islands"),s.a.createElement("option",{value:"AL"},"Albania"),s.a.createElement("option",{value:"DZ"},"Algeria"),s.a.createElement("option",{value:"AS"},"American Samoa"),s.a.createElement("option",{value:"AD"},"Andorra"),s.a.createElement("option",{value:"AO"},"Angola"),s.a.createElement("option",{value:"AI"},"Anguilla"),s.a.createElement("option",{value:"AQ"},"Antarctica"),s.a.createElement("option",{value:"AG"},"Antigua and Barbuda"),s.a.createElement("option",{value:"AR"},"Argentina"),s.a.createElement("option",{value:"AM"},"Armenia"),s.a.createElement("option",{value:"AW"},"Aruba"),s.a.createElement("option",{value:"AU"},"Australia"),s.a.createElement("option",{value:"AT"},"Austria"),s.a.createElement("option",{value:"AZ"},"Azerbaijan"),s.a.createElement("option",{value:"BS"},"Bahamas"),s.a.createElement("option",{value:"BH"},"Bahrain"),s.a.createElement("option",{value:"BD"},"Bangladesh"),s.a.createElement("option",{value:"BB"},"Barbados"),s.a.createElement("option",{value:"BY"},"Belarus"),s.a.createElement("option",{value:"BE"},"Belgium"),s.a.createElement("option",{value:"BZ"},"Belize"),s.a.createElement("option",{value:"BJ"},"Benin"),s.a.createElement("option",{value:"BM"},"Bermuda"),s.a.createElement("option",{value:"BT"},"Bhutan"),s.a.createElement("option",{value:"BO"},"Bolivia, Plurinational State of"),s.a.createElement("option",{value:"BQ"},"Bonaire, Sint Eustatius and Saba"),s.a.createElement("option",{value:"BA"},"Bosnia and Herzegovina"),s.a.createElement("option",{value:"BW"},"Botswana"),s.a.createElement("option",{value:"BV"},"Bouvet Island"),s.a.createElement("option",{value:"BR"},"Brazil"),s.a.createElement("option",{value:"IO"},"British Indian Ocean Territory"),s.a.createElement("option",{value:"BN"},"Brunei Darussalam"),s.a.createElement("option",{value:"BG"},"Bulgaria"),s.a.createElement("option",{value:"BF"},"Burkina Faso"),s.a.createElement("option",{value:"BI"},"Burundi"),s.a.createElement("option",{value:"KH"},"Cambodia"),s.a.createElement("option",{value:"CM"},"Cameroon"),s.a.createElement("option",{value:"CA"},"Canada"),s.a.createElement("option",{value:"CV"},"Cape Verde"),s.a.createElement("option",{value:"KY"},"Cayman Islands"),s.a.createElement("option",{value:"CF"},"Central African Republic"),s.a.createElement("option",{value:"TD"},"Chad"),s.a.createElement("option",{value:"CL"},"Chile"),s.a.createElement("option",{value:"CN"},"China"),s.a.createElement("option",{value:"CX"},"Christmas Island"),s.a.createElement("option",{value:"CC"},"Cocos (Keeling) Islands"),s.a.createElement("option",{value:"CO"},"Colombia"),s.a.createElement("option",{value:"KM"},"Comoros"),s.a.createElement("option",{value:"CG"},"Congo"),s.a.createElement("option",{value:"CD"},"Congo, the Democratic Republic of the"),s.a.createElement("option",{value:"CK"},"Cook Islands"),s.a.createElement("option",{value:"CR"},"Costa Rica"),s.a.createElement("option",{value:"CI"},"C\xf4te d'Ivoire"),s.a.createElement("option",{value:"HR"},"Croatia"),s.a.createElement("option",{value:"CU"},"Cuba"),s.a.createElement("option",{value:"CW"},"Cura\xe7ao"),s.a.createElement("option",{value:"CY"},"Cyprus"),s.a.createElement("option",{value:"CZ"},"Czech Republic"),s.a.createElement("option",{value:"DK"},"Denmark"),s.a.createElement("option",{value:"DJ"},"Djibouti"),s.a.createElement("option",{value:"DM"},"Dominica"),s.a.createElement("option",{value:"DO"},"Dominican Republic"),s.a.createElement("option",{value:"EC"},"Ecuador"),s.a.createElement("option",{value:"EG"},"Egypt"),s.a.createElement("option",{value:"SV"},"El Salvador"),s.a.createElement("option",{value:"GQ"},"Equatorial Guinea"),s.a.createElement("option",{value:"ER"},"Eritrea"),s.a.createElement("option",{value:"EE"},"Estonia"),s.a.createElement("option",{value:"ET"},"Ethiopia"),s.a.createElement("option",{value:"FK"},"Falkland Islands (Malvinas)"),s.a.createElement("option",{value:"FO"},"Faroe Islands"),s.a.createElement("option",{value:"FJ"},"Fiji"),s.a.createElement("option",{value:"FI"},"Finland"),s.a.createElement("option",{value:"FR"},"France"),s.a.createElement("option",{value:"GF"},"French Guiana"),s.a.createElement("option",{value:"PF"},"French Polynesia"),s.a.createElement("option",{value:"TF"},"French Southern Territories"),s.a.createElement("option",{value:"GA"},"Gabon"),s.a.createElement("option",{value:"GM"},"Gambia"),s.a.createElement("option",{value:"GE"},"Georgia"),s.a.createElement("option",{value:"DE"},"Germany"),s.a.createElement("option",{value:"GH"},"Ghana"),s.a.createElement("option",{value:"GI"},"Gibraltar"),s.a.createElement("option",{value:"GR"},"Greece"),s.a.createElement("option",{value:"GL"},"Greenland"),s.a.createElement("option",{value:"GD"},"Grenada"),s.a.createElement("option",{value:"GP"},"Guadeloupe"),s.a.createElement("option",{value:"GU"},"Guam"),s.a.createElement("option",{value:"GT"},"Guatemala"),s.a.createElement("option",{value:"GG"},"Guernsey"),s.a.createElement("option",{value:"GN"},"Guinea"),s.a.createElement("option",{value:"GW"},"Guinea-Bissau"),s.a.createElement("option",{value:"GY"},"Guyana"),s.a.createElement("option",{value:"HT"},"Haiti"),s.a.createElement("option",{value:"HM"},"Heard Island and McDonald Islands"),s.a.createElement("option",{value:"VA"},"Holy See (Vatican City State)"),s.a.createElement("option",{value:"HN"},"Honduras"),s.a.createElement("option",{value:"HK"},"Hong Kong"),s.a.createElement("option",{value:"HU"},"Hungary"),s.a.createElement("option",{value:"IS"},"Iceland"),s.a.createElement("option",{value:"IN"},"India"),s.a.createElement("option",{value:"ID"},"Indonesia"),s.a.createElement("option",{value:"IR"},"Iran, Islamic Republic of"),s.a.createElement("option",{value:"IQ"},"Iraq"),s.a.createElement("option",{value:"IE"},"Ireland"),s.a.createElement("option",{value:"IM"},"Isle of Man"),s.a.createElement("option",{value:"IL"},"Israel"),s.a.createElement("option",{value:"IT"},"Italy"),s.a.createElement("option",{value:"JM"},"Jamaica"),s.a.createElement("option",{value:"JP"},"Japan"),s.a.createElement("option",{value:"JE"},"Jersey"),s.a.createElement("option",{value:"JO"},"Jordan"),s.a.createElement("option",{value:"KZ"},"Kazakhstan"),s.a.createElement("option",{value:"KE"},"Kenya"),s.a.createElement("option",{value:"KI"},"Kiribati"),s.a.createElement("option",{value:"KP"},"Korea, Democratic People's Republic of"),s.a.createElement("option",{value:"KR"},"Korea, Republic of"),s.a.createElement("option",{value:"KW"},"Kuwait"),s.a.createElement("option",{value:"KG"},"Kyrgyzstan"),s.a.createElement("option",{value:"LA"},"Lao People's Democratic Republic"),s.a.createElement("option",{value:"LV"},"Latvia"),s.a.createElement("option",{value:"LB"},"Lebanon"),s.a.createElement("option",{value:"LS"},"Lesotho"),s.a.createElement("option",{value:"LR"},"Liberia"),s.a.createElement("option",{value:"LY"},"Libya"),s.a.createElement("option",{value:"LI"},"Liechtenstein"),s.a.createElement("option",{value:"LT"},"Lithuania"),s.a.createElement("option",{value:"LU"},"Luxembourg"),s.a.createElement("option",{value:"MO"},"Macao"),s.a.createElement("option",{value:"MK"},"Macedonia, the former Yugoslav Republic of"),s.a.createElement("option",{value:"MG"},"Madagascar"),s.a.createElement("option",{value:"MW"},"Malawi"),s.a.createElement("option",{value:"MY"},"Malaysia"),s.a.createElement("option",{value:"MV"},"Maldives"),s.a.createElement("option",{value:"ML"},"Mali"),s.a.createElement("option",{value:"MT"},"Malta"),s.a.createElement("option",{value:"MH"},"Marshall Islands"),s.a.createElement("option",{value:"MQ"},"Martinique"),s.a.createElement("option",{value:"MR"},"Mauritania"),s.a.createElement("option",{value:"MU"},"Mauritius"),s.a.createElement("option",{value:"YT"},"Mayotte"),s.a.createElement("option",{value:"MX"},"Mexico"),s.a.createElement("option",{value:"FM"},"Micronesia, Federated States of"),s.a.createElement("option",{value:"MD"},"Moldova, Republic of"),s.a.createElement("option",{value:"MC"},"Monaco"),s.a.createElement("option",{value:"MN"},"Mongolia"),s.a.createElement("option",{value:"ME"},"Montenegro"),s.a.createElement("option",{value:"MS"},"Montserrat"),s.a.createElement("option",{value:"MA"},"Morocco"),s.a.createElement("option",{value:"MZ"},"Mozambique"),s.a.createElement("option",{value:"MM"},"Myanmar"),s.a.createElement("option",{value:"NA"},"Namibia"),s.a.createElement("option",{value:"NR"},"Nauru"),s.a.createElement("option",{value:"NP"},"Nepal"),s.a.createElement("option",{value:"NL"},"Netherlands"),s.a.createElement("option",{value:"NC"},"New Caledonia"),s.a.createElement("option",{value:"NZ"},"New Zealand"),s.a.createElement("option",{value:"NI"},"Nicaragua"),s.a.createElement("option",{value:"NE"},"Niger"),s.a.createElement("option",{value:"NG"},"Nigeria"),s.a.createElement("option",{value:"NU"},"Niue"),s.a.createElement("option",{value:"NF"},"Norfolk Island"),s.a.createElement("option",{value:"MP"},"Northern Mariana Islands"),s.a.createElement("option",{value:"NO"},"Norway"),s.a.createElement("option",{value:"OM"},"Oman"),s.a.createElement("option",{value:"PK"},"Pakistan"),s.a.createElement("option",{value:"PW"},"Palau"),s.a.createElement("option",{value:"PS"},"Palestinian Territory, Occupied"),s.a.createElement("option",{value:"PA"},"Panama"),s.a.createElement("option",{value:"PG"},"Papua New Guinea"),s.a.createElement("option",{value:"PY"},"Paraguay"),s.a.createElement("option",{value:"PE"},"Peru"),s.a.createElement("option",{value:"PH"},"Philippines"),s.a.createElement("option",{value:"PN"},"Pitcairn"),s.a.createElement("option",{value:"PL"},"Poland"),s.a.createElement("option",{value:"PT"},"Portugal"),s.a.createElement("option",{value:"PR"},"Puerto Rico"),s.a.createElement("option",{value:"QA"},"Qatar"),s.a.createElement("option",{value:"RE"},"R\xe9union"),s.a.createElement("option",{value:"RO"},"Romania"),s.a.createElement("option",{value:"RU"},"Russian Federation"),s.a.createElement("option",{value:"RW"},"Rwanda"),s.a.createElement("option",{value:"BL"},"Saint Barth\xe9lemy"),s.a.createElement("option",{value:"SH"},"Saint Helena, Ascension and Tristan da Cunha"),s.a.createElement("option",{value:"KN"},"Saint Kitts and Nevis"),s.a.createElement("option",{value:"LC"},"Saint Lucia"),s.a.createElement("option",{value:"MF"},"Saint Martin (French part)"),s.a.createElement("option",{value:"PM"},"Saint Pierre and Miquelon"),s.a.createElement("option",{value:"VC"},"Saint Vincent and the Grenadines"),s.a.createElement("option",{value:"WS"},"Samoa"),s.a.createElement("option",{value:"SM"},"San Marino"),s.a.createElement("option",{value:"ST"},"Sao Tome and Principe"),s.a.createElement("option",{value:"SA"},"Saudi Arabia"),s.a.createElement("option",{value:"SN"},"Senegal"),s.a.createElement("option",{value:"RS"},"Serbia"),s.a.createElement("option",{value:"SC"},"Seychelles"),s.a.createElement("option",{value:"SL"},"Sierra Leone"),s.a.createElement("option",{value:"SG"},"Singapore"),s.a.createElement("option",{value:"SX"},"Sint Maarten (Dutch part)"),s.a.createElement("option",{value:"SK"},"Slovakia"),s.a.createElement("option",{value:"SI"},"Slovenia"),s.a.createElement("option",{value:"SB"},"Solomon Islands"),s.a.createElement("option",{value:"SO"},"Somalia"),s.a.createElement("option",{value:"ZA"},"South Africa"),s.a.createElement("option",{value:"GS"},"South Georgia and the South Sandwich Islands"),s.a.createElement("option",{value:"SS"},"South Sudan"),s.a.createElement("option",{value:"ES"},"Spain"),s.a.createElement("option",{value:"LK"},"Sri Lanka"),s.a.createElement("option",{value:"SD"},"Sudan"),s.a.createElement("option",{value:"SR"},"Suriname"),s.a.createElement("option",{value:"SJ"},"Svalbard and Jan Mayen"),s.a.createElement("option",{value:"SZ"},"Swaziland"),s.a.createElement("option",{value:"SE"},"Sweden"),s.a.createElement("option",{value:"CH"},"Switzerland"),s.a.createElement("option",{value:"SY"},"Syrian Arab Republic"),s.a.createElement("option",{value:"TW"},"Taiwan, Province of China"),s.a.createElement("option",{value:"TJ"},"Tajikistan"),s.a.createElement("option",{value:"TZ"},"Tanzania, United Republic of"),s.a.createElement("option",{value:"TH"},"Thailand"),s.a.createElement("option",{value:"TL"},"Timor-Leste"),s.a.createElement("option",{value:"TG"},"Togo"),s.a.createElement("option",{value:"TK"},"Tokelau"),s.a.createElement("option",{value:"TO"},"Tonga"),s.a.createElement("option",{value:"TT"},"Trinidad and Tobago"),s.a.createElement("option",{value:"TN"},"Tunisia"),s.a.createElement("option",{value:"TR"},"Turkey"),s.a.createElement("option",{value:"TM"},"Turkmenistan"),s.a.createElement("option",{value:"TC"},"Turks and Caicos Islands"),s.a.createElement("option",{value:"TV"},"Tuvalu"),s.a.createElement("option",{value:"UG"},"Uganda"),s.a.createElement("option",{value:"UA"},"Ukraine"),s.a.createElement("option",{value:"AE"},"United Arab Emirates"),s.a.createElement("option",{value:"GB"},"United Kingdom"),s.a.createElement("option",{value:"US"},"United States"),s.a.createElement("option",{value:"UM"},"United States Minor Outlying Islands"),s.a.createElement("option",{value:"UY"},"Uruguay"),s.a.createElement("option",{value:"UZ"},"Uzbekistan"),s.a.createElement("option",{value:"VU"},"Vanuatu"),s.a.createElement("option",{value:"VE"},"Venezuela, Bolivarian Republic of"),s.a.createElement("option",{value:"VN"},"Viet Nam"),s.a.createElement("option",{value:"VG"},"Virgin Islands, British"),s.a.createElement("option",{value:"VI"},"Virgin Islands, U.S."),s.a.createElement("option",{value:"WF"},"Wallis and Futuna"),s.a.createElement("option",{value:"EH"},"Western Sahara"),s.a.createElement("option",{value:"YE"},"Yemen"),s.a.createElement("option",{value:"ZM"},"Zambia"),s.a.createElement("option",{value:"ZW"},"Zimbabwe")),s.a.createElement("input",{type:"text",required:!0,placeholder:"City",name:"city",onChange:function(t){return e.setData({city:t.target.value})}}),s.a.createElement("input",{type:"number",required:!0,placeholder:"Zip code",name:"zip_code",onChange:function(t){return e.setData({zip_code:t.target.value})}}),s.a.createElement("input",{type:"text",required:!0,placeholder:"Address",name:"address_1",onChange:function(t){return e.setData({address_1:t.target.value})}}),s.a.createElement("input",{type:"text",onFocus:this.onFocus,onBlur:this.onBlurin,required:!0,placeholder:"Check In",name:"check_in",onChange:function(t){return e.setData({check_in:t.target.value})}}),s.a.createElement("input",{type:"text",onFocus:this.onFocus,onBlur:this.onBlurout,required:!0,placeholder:"Check Out",name:"check_out",onChange:function(t){return e.setData({check_out:t.target.value})}}),s.a.createElement("select",{name:"prefix_name",onChange:function(t){return e.setData({room_id:t.target.value})}},s.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Room (optional)"),this.state.rooms.filter((function(e){return null!=e.device.id})).map((function(e){return s.a.createElement("option",{value:e.room.id},e.room.room_number," ",null!=e.stay.tourist.id?"(Occupied)":"")}))),s.a.createElement("button",{onClick:this.send},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Confirm")))}}]),t}(n.Component));xt.contextType=x;var _t=xt,Ot=(a(431),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={room:{room_number:"",section:"",floor:"",capacity:"",hotel_id:n.context.hotel_id[0],status:"1"},alert_message:[],sucess_message:"",visible:"",devices:[]},n.setData=n.setData.bind(Object(v.a)(n)),n.submit=n.submit.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("devices/available",{},"GET"));case 2:e=t.sent,this.setState({rooms:e.data}),console.log("state",this.state.rooms);case 5:case"end":return t.stop()}}),null,this)}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"submit",value:function(){var e,t,a,n;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(this.setState({alert_message:[]}));case 2:return/^[0-9]*$/.test(this.state.room.room_number)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid Room Number!"])}),/[A-Za-z]{1,100}/.test(this.state.room.section)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid Section!"])}),/^[0-9]*$/.test(this.state.room.floor)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid Floor Input!"])}),/^[0-9]*$/.test(this.state.room.capacity)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid Capacity Input!"])}),s.next=8,c.a.awrap(f("rooms",{hotel_id:this.context.hotel_id[0]}));case 8:for(e=s.sent,t=0;t<e.data.length;t++)this.state.room.room_number==e.data[t].room_number&&this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["room already book!"])});if(0!=this.state.alert_message.length){s.next=14;break}return s.next=13,c.a.awrap(f("/room",this.state.room,"POST"));case 13:a=s.sent;case 14:if(!this.state.room.room_number){s.next=22;break}return this.setState({room_id:a.data[0].id,hotel_id:a.data[0].hotel_id}),n={room_id:this.state.room_id,hotel_id:this.state.hotel_id,device_id:this.state.deviceId},s.next=19,c.a.awrap(f("/device_room/attach",n,"POST"));case 19:if(void 0===this.state.deviceId){s.next=22;break}return s.next=22,c.a.awrap(f("room/"+this.state.room_id,{linked_to_device:1},"PUT"));case 22:void 0==a.data?this.setState({visible:"echec"}):(setTimeout((function(){return document.location.href="/rooms"}),1e3),this.setState({visible:"success"}));case 23:case"end":return s.stop()}}),null,this)}},{key:"setData",value:function(e){this.setState({room:Object(u.a)({},this.state.room,{},e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),s.a.createElement("div",{className:"room-form-add"},s.a.createElement("div",{className:"room-header"},s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/add_room.png"})),s.a.createElement("div",null,"Add Room")),s.a.createElement("div",{className:"room-form-add"},s.a.createElement("div",{className:"room-inputs"},s.a.createElement("input",{type:"text",placeholder:"Room Number",onChange:function(t){return e.setData({room_number:t.target.value})},required:!0}),s.a.createElement("input",{type:"text",placeholder:"Section",onChange:function(t){return e.setData({section:t.target.value})},pattern:"[A-Za-z]{1,100}",required:!0}),s.a.createElement("input",{type:"number",placeholder:"Floor",onChange:function(t){return e.setData({floor:t.target.value})},required:!0}),s.a.createElement("input",{type:"number",placeholder:"Capacity",onChange:function(t){return e.setData({capacity:t.target.value})},required:!0}),s.a.createElement("button",{onClick:this.submit},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Add"),"success"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"valide-modal"},s.a.createElement("img",{src:"/img/ui/succes.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"successfully added !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,"echec"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"echec-modal"},s.a.createElement("img",{src:"/img/ui/echec.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"Reinsert information please !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null))))}}]),t}(n.Component));Ot.contextType=x;var kt=Ot,jt=(a(432),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={hotel:{},alert_message:[],visible:""},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"send",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(this.setState({alert_message:[]}));case 2:if(/[a-z]{1,10}/.test(this.state.hotel.hotel_name)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid hotel name!"])}),/[a-z]{1,10}/.test(this.state.hotel.city)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid city!"])}),/[a-z]{1,10}/.test(this.state.hotel.country)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid country!"])}),/[a-z]{1,10}/.test(this.state.hotel.region)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalidregion!"])}),/[a-z]{1,10}/.test(this.state.hotel.continent)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid continent!"])}),/[a-z]{1,10}/.test(this.state.hotel.chain)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid chain!"])}),/^[1-5]$/.test(this.state.hotel.stars)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid stars Number!"])}),/[a-z]{1,10}/.test(this.state.hotel.address)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid address!"])}),/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(this.state.hotel.email)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid email !"])}),/[a-z]{1,10}/.test(this.state.hotel.facebook)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid facebook!"])}),/[a-z]{1,10}/.test(this.state.hotel.twitter)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid twitter!"])}),/[a-z]{1,10}/.test(this.state.hotel.youtube)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid youtube!"])}),/[a-z]{1,10}/.test(this.state.hotel.trip_advisor_url)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid trip_advisor_url!"])}),0!=this.state.alert_message.length){t.next=19;break}return t.next=18,c.a.awrap(f("hotel",this.state.hotel,"POST"));case 18:e=t.sent;case 19:console.log(e,"hey"),e?this.setState({visible:"success"}):this.setState({visible:"echec"});case 21:case"end":return t.stop()}}),null,this)}},{key:"setData",value:function(e){this.setState({hotel:Object(u.a)({},this.state.hotel,{},e)})}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"hotel-form-add"},s.a.createElement("div",{className:"hotel-header"},s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/add_room.png"})),s.a.createElement("div",null,"Add Hotel")),s.a.createElement("div",{className:"message-succes"},"success"==this.state.sucess_message?"Ajout avec succes !":null),s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),"success"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"valide-modal"},s.a.createElement("img",{src:"/img/ui/succes.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"successfully added !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,"echec"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"echec-modal"},s.a.createElement("img",{src:"/img/ui/echec.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"Reinsert information please !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,s.a.createElement("div",{className:"hotel-inputs"},s.a.createElement("input",{type:"text",required:!0,placeholder:"hotel name",value:this.state.hotel.hotel_name||"",onChange:function(t){return e.setData({hotel_name:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"city",value:this.state.hotel.city||"",onChange:function(t){return e.setData({city:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"country",value:this.state.hotel.country||"",onChange:function(t){return e.setData({country:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"region",value:this.state.hotel.region||"",onChange:function(t){return e.setData({region:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"continent",value:this.state.hotel.continent||"",onChange:function(t){return e.setData({continent:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"chain",value:this.state.hotel.chain||"",onChange:function(t){return e.setData({chain:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"number",required:!0,placeholder:"stars",value:this.state.hotel.stars||"",onChange:function(t){return e.setData({stars:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"address",value:this.state.hotel.address||"",onChange:function(t){return e.setData({address:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"email",required:!0,placeholder:"email",value:this.state.hotel.email||"",onChange:function(t){return e.setData({email:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"facebook",value:this.state.hotel.facebook||"",onChange:function(t){return e.setData({facebook:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"twitter",value:this.state.hotel.twitter||"",onChange:function(t){return e.setData({twitter:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"youtube",value:this.state.hotel.youtube||"",onChange:function(t){return e.setData({youtube:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"trip_advisor_url",value:this.state.hotel.trip_advisor_url||"",onChange:function(t){return e.setData({trip_advisor_url:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"number",required:!0,placeholder:"check In",value:this.state.hotel.check_in||"",onChange:function(t){return e.setData({check_in:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"number",required:!0,placeholder:"check Out",value:this.state.hotel.check_out||"",onChange:function(t){return e.setData({check_out:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("button",{onClick:this.send},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Add")))}}]),t}(n.Component));jt.contextType=x;var Nt=jt,St=(a(433),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={role:2,approved:1,hotel_id:n.context.hotel_id[0]},n.edit=n.edit.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"edit",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(f("user",Object(u.a)({},this.state),"POST"));case 2:e.sent;case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"employee-form-add"},s.a.createElement("div",{className:"employee-header"},s.a.createElement("div",{className:"employee-header_title"},"Add Employee")),s.a.createElement("div",{className:"employee-inputs add"},s.a.createElement("input",{placeholder:"Name",onInput:function(t){return e.setState({name:t.target.value})}}),s.a.createElement("input",{type:"text",placeholder:"Email",onInput:function(t){return e.setState({email:t.target.value})}}),s.a.createElement("input",{type:"password",placeholder:"Password",onInput:function(t){return e.setState({password:t.target.value})}}),s.a.createElement("button",{onClick:this.edit},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Add")))}}]),t}(n.Component));St.contextType=x;var Ct=St,wt=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={data:{id:n.props.match.params.id,type:1,categories:"['Extra Post']",content_manager:1,state:1,title:""}},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("extra_post/"+this.state.data.id));case 2:e=t.sent,this.setState({data:Object(u.a)({},e.data[0])});case 4:case"end":return t.stop()}}),null,this)}},{key:"setData",value:function(e){this.setState({data:Object(u.a)({},this.state.data,{},e)})}},{key:"send",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("extra_post",this.state.data,"POST"));case 2:if(e=a.sent,!this.state.data.title_fr){a.next=12;break}return(t={post_id:e.id}).title=this.state.data.title_fr,t.description=this.state.data.description_fr||"",t.lang_iso="fr",t.summery=this.state.data.summery_fr||"",a.next=11,c.a.awrap(f("extra_posts_translate",t,"POST"));case 11:a.sent;case 12:window.location.href=new URLSearchParams(window.location.search).get("return");case 13:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(qe,{data:this.state.data,send:this.send},s.a.createElement(We,{title:"Image + Title",setData:this.setData,data:this.state.data}),s.a.createElement(Ye,{title:"Description",setData:this.setData,data:this.state.data}),s.a.createElement(Ze,{title:"Price",setData:this.setData,data:this.state.data}),s.a.createElement(ft,{title:"Location",setData:this.setData,data:this.state.data})))}}]),t}(n.Component);wt.contextType=x;var Dt=wt,Tt=(a(434),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).updatePermission=function(e,t){n.setState({permissions:n.state.permissions.map((function(a,n){return e==n?Object(u.a)({},a,{level:t}):a}))}),f("permission/"+n.state.permissions[e].id,Object(u.a)({},n.state.permissions[e],{level:t}),"PUT")},n.state={role:2,approved:1,hotel_id:n.context.hotel_id[0],employee:{},permissions:[]},n.edit=n.edit.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("user/"+this.props.match.params.id));case 2:return e=t.sent,this.setState({employee:e.data[0]}),t.next=6,c.a.awrap(f("permission_options",{user_id:e.data[0].id}));case 6:e=t.sent,console.log(e),this.setState({permissions:e.data});case 9:case"end":return t.stop()}}),null,this)}},{key:"edit",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.permissions.forEach((function(e){f("permission/"+e.id,Object(u.a)({},e),"PUT")})),e.next=3,c.a.awrap(f("user/"+this.props.match.params.id,Object(u.a)({},this.state),"PUT"));case 3:e.sent;case 4:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"employee-form-add"},s.a.createElement("div",{className:"employee-header"},s.a.createElement("div",{className:"employee-header_title"},"Edit Employee")),s.a.createElement("div",{className:"employee-inputs"},s.a.createElement("input",{defaultValue:this.state.employee.name,placeholder:"Name",onInput:function(t){return e.setState({name:t.target.value})}}),s.a.createElement("input",{defaultValue:this.state.employee.email,type:"text",placeholder:"Email",onInput:function(t){return e.setState({email:t.target.value})}}),s.a.createElement("input",{type:"password",placeholder:"Password",onInput:function(t){return e.setState({password:t.target.value})}}),s.a.createElement("button",{onClick:this.edit},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Update"),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Permission"),s.a.createElement("th",null,"Edit"),s.a.createElement("th",null,"View"),s.a.createElement("th",null,"Forbidden"))),s.a.createElement("tbody",null,this.state.permissions.map((function(t,a){return s.a.createElement("tr",{style:{height:"54px"}},s.a.createElement("td",null,t.text),s.a.createElement("td",{onClick:function(){return e.updatePermission(a,2)}},2==t.level&&s.a.createElement(k.a,{src:"/img/ui/check.svg"})),s.a.createElement("td",{onClick:function(){return e.updatePermission(a,1)}},1==t.level&&s.a.createElement(k.a,{src:"/img/ui/check.svg"})),s.a.createElement("td",{onClick:function(){return e.updatePermission(a,0)}},0==t.level&&s.a.createElement(k.a,{src:"/img/ui/check.svg"})))}))))))}}]),t}(n.Component));Tt.contextType=x;var It=Tt,Mt=(a(435),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"room-card"},s.a.createElement("div",{className:"room-details"},s.a.createElement("p",null,this.props.room.tourist_name,"  ")," ",this.props.room.id,s.a.createElement("p",null,"Device Num: ",this.props.room.device_imei,"/Room: ",this.props.room.room_number)),s.a.createElement("div",{className:"room-button"},s.a.createElement(j.b,{to:"/edit/room/"+this.props.room.id},s.a.createElement("button",null,"Details >")),s.a.createElement(j.b,{to:"/edit/room/"+this.props.room.id},s.a.createElement("button",null,"Modifier")),s.a.createElement(X.a,{trigger:s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/supprimer.png"})),modal:!0},(function(t){return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"header"}," \xcates-vous s\xfbr de vouloir supprimer ? "),s.a.createElement("div",{className:"actions"},s.a.createElement("img",{src:"/img/ui/btn_valider.png",onClick:function(){return f("room/"+e.props.room.id,{},"DELETE")}}),s.a.createElement("img",{src:"/img/ui/btn_annuler.png",onClick:function(){console.log("modal closed "),t()}})))}))))}}]),t}(n.Component));Mt.contextType=x;var Pt=Mt,At=(a(436),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={rooms:[],redirect:!1},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("rooms",{hotel_id:this.context.hotel_id[0]}));case 2:e=t.sent,this.setState({rooms:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(H.a,{to:"/add/room"}):s.a.createElement("div",{style:{justifyContent:"space-between"},className:"room-container"},s.a.createElement("div",{className:"room-search-header"},s.a.createElement("div",{className:"room-search "},s.a.createElement("div",null," ",s.a.createElement("p",null,"Room Search")),s.a.createElement("div",{className:"room-search-input "},s.a.createElement("div",null," ",s.a.createElement("input",{placeholder:"Room Number",onChange:function(t){return e.setState({room_number:t.target.value})}})),s.a.createElement("div",null," ",s.a.createElement("input",{placeholder:"tourist Name",onChange:function(t){return e.setState({tourist_name:t.target.value})}})))),3==this.context.role||2===this.context.role?s.a.createElement("div",{className:"room-Link-ajout ",onClick:function(){return e.setState({redirect:!0})}},s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/add_room.png"})),s.a.createElement("div",null,s.a.createElement(j.b,{to:"/add/room"},"Add Room"))):""),s.a.createElement("div",{className:"room-list "},this.state.rooms.filter((function(t){return new RegExp(e.state.tourist_name,"i").test(t.tourist_name)})).filter((function(t){return new RegExp(e.state.room_number,"i").test(t.room_number)})).filter((function(t){return new RegExp(e.state.device_imei,"i").test(t.device_imei)})).map((function(e){return s.a.createElement(Pt,{room:e})}))))}}]),t}(n.Component));At.contextType=x;var Bt=At,Rt=(a(437),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={room:{},deviceRoom:{},alert_message:[],sucess_message:"",devices:[],available:"unavailable"},n.edit=n.edit.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(f("room/"+this.props.match.params.id));case 2:return e=a.sent,this.setState({room:e.data[0]}),a.next=6,c.a.awrap(f("devices",{},"GET"));case 6:t=a.sent,this.setState({devices:t.data});case 8:case"end":return a.stop()}}),null,this)}},{key:"edit",value:function(){var e,t,a,n;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.setState({alert_message:[]}),/^[0-9]*$/.test(this.state.room.floor)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid Floor Input!"])}),/^[0-9]*$/.test(this.state.room.capacity)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid Capacity Input!"])}),0!=this.state.alert_message.length){s.next=7;break}if(!this.state.room.room_number){s.next=7;break}return s.next=7,c.a.awrap(f("room/"+this.state.room.id,{room_number:this.state.room_number},"PUT"));case 7:if(0!=this.state.alert_message.length){s.next=11;break}if(!this.state.room.section){s.next=11;break}return s.next=11,c.a.awrap(f("room/"+this.state.room.id,{section:this.state.section},"PUT"));case 11:if(0!=this.state.alert_message.length){s.next=15;break}if(!this.state.room.floor){s.next=15;break}return s.next=15,c.a.awrap(f("room/"+this.state.room.id,{floor:this.state.floor},"PUT"));case 15:if(0!=this.state.alert_message.length){s.next=19;break}if(!this.state.room.capacity){s.next=19;break}return s.next=19,c.a.awrap(f("room/"+this.state.room.id,{capacity:this.state.capacity},"PUT"));case 19:if(0==this.state.alert_message.length&&this.setState({sucess_message:"success"}),e={room_id:this.state.room.id,hotel_id:this.state.room.hotel_id,device_id:this.state.deviceId},0!==this.state.room.linked_to_device){s.next=28;break}return s.next=24,c.a.awrap(f("/device_room/attach",e,"POST"));case 24:return s.next=26,c.a.awrap(f("room/"+this.state.room.id,{linked_to_device:1},"PUT"));case 26:s.next=50;break;case 28:if("available"!==this.state.available){s.next=36;break}return s.next=31,c.a.awrap(f("/device_rooms/room_id",{room_id:this.state.room.id},"GET"));case 31:return t=s.sent,s.next=34,c.a.awrap(f("/device_rooms/"+t.data[0].id,{device_id:this.state.deviceId},"PUT"));case 34:s.next=50;break;case 36:if("unavailable"!==this.state.available){s.next=50;break}return s.next=39,c.a.awrap(f("/device_rooms/room_id",{room_id:this.state.room.id},"GET"));case 39:return a=s.sent,s.next=42,c.a.awrap(f("/device_rooms/device_id",{device_id:this.state.deviceId},"GET"));case 42:return n=s.sent,s.t0=console,s.next=46,c.a.awrap(f("/device_rooms/"+a.data[0].id,{device_id:this.state.deviceId},"PUT"));case 46:return s.t1=s.sent,s.t0.log.call(s.t0,s.t1),s.next=50,c.a.awrap(f("/device_rooms/"+n.data[0].id,{device_id:a.data[0].device.id},"PUT"));case 50:setTimeout((function(){return document.location.href="/rooms"}),1e3);case 51:case"end":return s.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return"success"==this.state.sucess_message?s.a.createElement(H.a,{to:"/rooms"}):s.a.createElement("div",null,s.a.createElement("div",{className:"message-succes"},"success"==this.state.sucess_message?"Ajout avec succes !":null),s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),s.a.createElement("div",{className:"room-form"},s.a.createElement("div",{className:"room-header"},"Edit Room"),s.a.createElement("div",{className:"room-edit-inputs"},3==this.context.role||2==this.context.role?s.a.createElement("div",{className:"room-inputs-deux"},s.a.createElement("div",{className:"label_input"},s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"first_name"},"Room Number:"),s.a.createElement("input",{placeholder:"Room Number",defaultValue:this.state.room.room_number,id:"room_number",onInput:function(t){return e.setState({room_number:t.target.value})}})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"call_time"},"Section:"),s.a.createElement("input",{placeholder:"Section",defaultValue:this.state.room.section,id:"section",onInput:function(t){return e.setState({section:t.target.value})}}))),s.a.createElement("div",{className:"label_input"},s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"floor"},"Floor :"),s.a.createElement("input",{placeholder:"Floor",defaultValue:this.state.room.floor,id:"floor",onInput:function(t){return e.setState({floor:t.target.value})}})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"capacity"},"Capacity :"),s.a.createElement("input",{placeholder:"capacity",defaultValue:this.state.room.capacity,id:"floor",onInput:function(t){return e.setState({capacity:t.target.value})}}))),s.a.createElement("div",{className:"label_input"},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("select",{onChange:function(t){return e.setState({deviceId:t.target.value,available:"available"})}},s.a.createElement("option",{selected:!0},"Link with an available Device"),this.state.devices.map((function(e){return s.a.createElement("option",{value:e.id},"Imei: ",e.imei," | ",null!=e.device_room.room.id?"Linked to room ".concat(e.device_room.room.room_number):"Free","}")})))))),s.a.createElement("button",{onClick:this.edit},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Confirm")):null)))}}]),t}(n.Component));Rt.contextType=x;var Ut=Rt,Ft=(a(438),a(143),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={redirect:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(H.a,{to:"/extra/"+this.props.post.id}):s.a.createElement("div",{className:"dish-card"},s.a.createElement("div",{onClick:function(){return window.location.href="/extra/"+e.props.post.id},className:"description"},s.a.createElement("p",{className:"titless"},this.props.post.title),s.a.createElement("p",{className:"desc"},this.props.post.description||"No Description"),this.props.post.price?s.a.createElement("p",{className:"price"},this.props.post.price_promo?(this.props.post.price-this.props.post.price*this.props.post.price_promo/100).toFixed(1):this.props.post.price.toFixed(1),s.a.createElement("sup",null," dt "),this.props.post.price_promo?"("+this.props.post.price_promo+"%)":""):""),s.a.createElement("div",{style:{backgroundImage:"url(".concat(this.props.post.image,")")},className:"image"},s.a.createElement(J,{extra:!0,id:this.props.post.id,check:1==this.props.post.state}),s.a.createElement(de,{link:this.props.link,id:this.props.post.id},"Edit")))}}]),t}(n.Component)),Lt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={extra:[],id:a.props.match.params.id},console.log("ss"),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("extra_posts",{parent_id:this.state.id}));case 2:e=t.sent,this.setState({extra:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(e.match.params.id),console.log(this.state.id),e.match.params.id==this.state.id){a.next=8;break}return this.setState({id:this.props.match.params.id}),a.next=6,c.a.awrap(f("extra_posts",{parent_id:e.match.params.id}));case 6:t=a.sent,this.setState({extra:t.data});case 8:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",{className:"restaurants"},s.a.createElement(Q,{id:this.props.match.params.id,link:"extra",return:window.location.href,params:{parent_id:28},style:{width:"31%",height:"200px",border:"1px dashed #7a8da1"}},s.a.createElement(k.a,{src:"/img/restaurant/plus.svg"}),s.a.createElement("p",null,"Add")),this.state.extra.map((function(e){return s.a.createElement(Ft,{link:"extra",post:e})})))}}]),t}(n.Component),zt=(a(439),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"onDelete",value:function(e){var t;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(f("hotel/"+this.props.hotel.id,"DELETE"));case 2:t=e.sent,console.log(t),console.log("room delete");case 5:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return console.log(this.props.room),s.a.createElement("div",{className:"hotel-card"},s.a.createElement("div",{className:"hotel-details"},s.a.createElement("p",null,"Hotel Name: ",this.props.hotel.hotel_name," ")," id: ",this.props.hotel.id," /region:",this.props.hotel.region,s.a.createElement("p",null,"City: ",this.props.hotel.city,"/Country: ",this.props.hotel.country)),s.a.createElement("div",{className:"hotel-button"},s.a.createElement(j.b,{to:"/edit/hotel/"+this.props.hotel.id},s.a.createElement("button",null,"Details >")),s.a.createElement(j.b,{to:"/edit/hotel/"+this.props.hotel.id},s.a.createElement("button",null,"Modifier")),s.a.createElement(X.a,{trigger:s.a.createElement("div",null,"  ",s.a.createElement("img",{src:"/img/ui/supprimer.png"})," "),modal:!0},(function(t){return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"header"}," \xcates-vous s\xfbr de vouloir supprimer ? "),s.a.createElement("div",{className:"actions"},s.a.createElement("img",{src:"/img/ui/btn_valider.png",onClick:function(){return f("hotel/"+e.props.hotel.id,{},"DELETE")}}),s.a.createElement("img",{src:"/img/ui/btn_annuler.png",onClick:function(){console.log("modal closed "),t()}})))}))))}}]),t}(n.Component));zt.contextType=x;var Gt=zt,Ht=(a(440),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={hotels:[],redirect:!1},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("hotels"));case 2:e=t.sent,console.log(e),this.setState({hotels:e.data});case 5:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(H.a,{to:"/add/hotel"}):s.a.createElement("div",{style:{justifyContent:"space-between"},className:"hotel-container"},s.a.createElement("div",{className:"hotel-search-header"},s.a.createElement("div",{className:"hotel-search "},s.a.createElement("div",null," ",s.a.createElement("p",null,"Search Hotel")),s.a.createElement("div",null," ",s.a.createElement("input",{placeholder:" Hotel Name",onChange:function(t){return e.setState({hotel_name:t.target.value})}}))),3==this.context.role?s.a.createElement("div",{className:"hotel-Link-ajout ",onClick:function(){return e.setState({redirect:!0})}},s.a.createElement("div",null,s.a.createElement("img",{src:"/img/ui/add_room.png"})),s.a.createElement("div",null,s.a.createElement(j.b,{to:"/add/hotel"},"Add Hotel"))):""),s.a.createElement("div",{className:"hotel-list "},this.state.hotels.filter((function(t){return new RegExp(e.state.hotel_name,"i").test(t.hotel_name)})).map((function(e){return s.a.createElement(Gt,{hotel:e})}))))}}]),t}(n.Component));Ht.contextType=x;var qt=Ht,Vt=(a(441),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={},n.upload=n.upload.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector(".fileContainer").style.backgroundImage="url(".concat(this.props.post.cover||"",")");case 1:case"end":return e.stop()}}),null,this)}},{key:"upload",value:function(e){var t,a;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",document.getElementsByName("image")[0].files[0]),e.next=4,c.a.awrap(b("upload",t,"POST"));case 4:a=e.sent,this.props.setPost({cover:a.cover}),document.querySelector(".fileContainer").style.backgroundImage="url(".concat(a.cover,")"),console.log(t,"postpostcover");case 8:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return console.log(this.props.post.cover,"posts"),s.a.createElement("div",{className:"form-one-item-hotel-edit"},s.a.createElement("label",{className:"input-label-half-hotel-edit"},"logo"),s.a.createElement(Ke.a,{onChange:this.upload,label:"Max file size: 2MB | Allowed formats: jpg, png",maxFileSize:"2097152",name:"image"}))}}]),t}(n.Component));Vt.contextType=x;var Kt=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={hotel:{},post:Object(u.a)({},n.props.post),alert_message:[],visible:""},n.send=n.send.bind(Object(v.a)(n)),n.setData=n.setData.bind(Object(v.a)(n)),n.setPost=n.setPost.bind(Object(v.a)(n)),n.upload=n.upload.bind(Object(v.a)(n)),n.uploadCover=n.uploadCover.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(f("hotel/"+this.props.match.params.id));case 2:e=n.sent,this.setState({hotel:e.data[0]}),t=0;case 5:if(!(t<=this.context.hotel_id.length)){n.next=15;break}if(this.state.hotel.id!=this.context.hotel_id[t]){n.next=12;break}return n.next=9,c.a.awrap(f("posts",{hotel_id:this.context.hotel_id[t],parent_id:null}));case 9:a=n.sent,this.setState({post:a.data[0]}),console.log(this.context.hotel_id[t],"context a traver i");case 12:t++,n.next=5;break;case 15:document.querySelector(".fileContainer").style.backgroundImage="url(".concat(this.state.post.image||"",")");case 16:case"end":return n.stop()}}),null,this)}},{key:"upload",value:function(e){var t,a;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",document.getElementsByName("image")[0].files[0]),e.next=4,c.a.awrap(b("upload",t,"POST"));case 4:a=e.sent,this.setPost({image:a.image}),document.querySelector(".fileContainer").style.backgroundImage="url(".concat(a.image,")");case 7:case"end":return e.stop()}}),null,this)}},{key:"uploadCover",value:function(e){var t,a;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",document.getElementsByName("image")[0].files[0]),e.next=4,c.a.awrap(b("upload",t,"POST"));case 4:a=e.sent,this.setPost({cover:a.cover}),document.querySelector(".fileContainer").style.backgroundImage="url(".concat(a.cover,")");case 7:case"end":return e.stop()}}),null,this)}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"setData",value:function(e){this.setState({hotel:Object(u.a)({},this.state.hotel,{},e)})}},{key:"setPost",value:function(e){this.setState({post:Object(u.a)({},this.state.post,{},e)})}},{key:"send",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(this.setState({alert_message:[]}));case 2:if(/[a-z]{1,10}/.test(this.state.hotel.hotel_name)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid hotel name!"])}),/[a-z]{1,10}/.test(this.state.hotel.city)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid city!"])}),/[a-z]{1,10}/.test(this.state.hotel.country)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid country!"])}),/[a-z]{1,10}/.test(this.state.hotel.region)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalidregion!"])}),/[a-z]{1,10}/.test(this.state.hotel.continent)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid continent!"])}),/[a-z]{1,10}/.test(this.state.hotel.chain)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid chain!"])}),/^[1-5]$/.test(this.state.hotel.stars)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid stars Number!"])}),/[a-z]{1,10}/.test(this.state.hotel.address)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid address!"])}),/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(this.state.hotel.email)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid email !"])}),/[a-z]{1,10}/.test(this.state.hotel.facebook)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid facebook!"])}),/[a-z]{1,10}/.test(this.state.hotel.twitter)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid twitter!"])}),/[a-z]{1,10}/.test(this.state.hotel.youtube)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid youtube!"])}),/[a-z]{1,10}/.test(this.state.hotel.trip_advisor_url)||this.setState({alert_message:[].concat(Object(o.a)(this.state.alert_message),["Invalid trip_advisor_url!"])}),0!=this.state.alert_message.length){e.next=19;break}if(!this.state.hotel.hotel_name){e.next=19;break}return e.next=19,c.a.awrap(f("hotel/"+this.state.hotel.id,{hotel_name:this.state.hotel.hotel_name},"PUT"));case 19:if(0!=this.state.alert_message.length){e.next=23;break}if(!this.state.hotel.city){e.next=23;break}return e.next=23,c.a.awrap(f("hotel/"+this.state.hotel.id,{city:this.state.hotel.city},"PUT"));case 23:if(0!=this.state.alert_message.length){e.next=27;break}if(!this.state.hotel.country){e.next=27;break}return e.next=27,c.a.awrap(f("hotel/"+this.state.hotel.id,{country:this.state.hotel.country},"PUT"));case 27:if(0!=this.state.alert_message.length){e.next=31;break}if(!this.state.hotel.region){e.next=31;break}return e.next=31,c.a.awrap(f("hotel/"+this.state.hotel.id,{region:this.state.hotel.region},"PUT"));case 31:if(0!=this.state.alert_message.length){e.next=35;break}if(!this.state.hotel.continent){e.next=35;break}return e.next=35,c.a.awrap(f("hotel/"+this.state.hotel.id,{continent:this.state.hotel.continent},"PUT"));case 35:if(0!=this.state.alert_message.length){e.next=39;break}if(!this.state.hotel.chain){e.next=39;break}return e.next=39,c.a.awrap(f("hotel/"+this.state.hotel.id,{chain:this.state.hotel.chain},"PUT"));case 39:if(0!=this.state.alert_message.length){e.next=43;break}if(!this.state.hotel.stars){e.next=43;break}return e.next=43,c.a.awrap(f("hotel/"+this.state.hotel.id,{stars:this.state.hotel.stars},"PUT"));case 43:if(0!=this.state.alert_message.length){e.next=47;break}if(!this.state.hotel.address){e.next=47;break}return e.next=47,c.a.awrap(f("hotel/"+this.state.hotel.id,{address:this.state.hotel.address},"PUT"));case 47:if(0!=this.state.alert_message.length){e.next=51;break}if(!this.state.hotel.email){e.next=51;break}return e.next=51,c.a.awrap(f("hotel/"+this.state.hotel.id,{email:this.state.hotel.email},"PUT"));case 51:if(0!=this.state.alert_message.length){e.next=55;break}if(!this.state.hotel.facebook){e.next=55;break}return e.next=55,c.a.awrap(f("hotel/"+this.state.hotel.id,{facebook:this.state.hotel.facebook},"PUT"));case 55:if(0!=this.state.alert_message.length){e.next=59;break}if(!this.state.hotel.twitter){e.next=59;break}return e.next=59,c.a.awrap(f("hotel/"+this.state.hotel.id,{twitter:this.state.hotel.twitter},"PUT"));case 59:if(0!=this.state.alert_message.length){e.next=63;break}if(!this.state.hotel.youtube){e.next=63;break}return e.next=63,c.a.awrap(f("hotel/"+this.state.hotel.id,{youtube:this.state.hotel.youtube},"PUT"));case 63:if(0!=this.state.alert_message.length){e.next=67;break}if(!this.state.hotel.trip_advisor_url){e.next=67;break}return e.next=67,c.a.awrap(f("hotel/"+this.state.hotel.id,{trip_advisor_url:this.state.hotel.trip_advisor_url},"PUT"));case 67:if(0!=this.state.alert_message.length){e.next=71;break}if(!this.state.post.image){e.next=71;break}return e.next=71,c.a.awrap(f("post/"+this.state.post.id,{image:this.state.post.image},"PUT"));case 71:if(0!=this.state.alert_message.length){e.next=75;break}if(!this.state.post.cover){e.next=75;break}return e.next=75,c.a.awrap(f("post/"+this.state.post.id,{cover:this.state.post.cover},"PUT"));case 75:0==this.state.alert_message.length?this.setState({visible:"success"}):this.setState({visible:"echec"}),console.log(this.state.hotel,"hotel");case 77:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"tourist-form-add"},s.a.createElement("div",{className:"tourist-header"},s.a.createElement("div",null,"Edit Hotel")),s.a.createElement("div",{className:"message-erreur"},this.state.alert_message.map((function(e){return s.a.createElement("p",null,e)}))),"success"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"valide-modal"},s.a.createElement("img",{src:"/img/ui/succes.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"successfully updated !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,"echec"==this.state.visible?s.a.createElement(Qe.a,{className:"my-modal",visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},s.a.createElement("div",{className:"echec-modal"},s.a.createElement("img",{src:"/img/ui/echec.png",style:{width:"32",height:"32"}}),s.a.createElement("div",null,"Reinsert information please !"),s.a.createElement("button",{onClick:function(){return e.closeModal()}},"X"))):null,s.a.createElement("div",{className:"input-hotels"},s.a.createElement("div",{className:"form-grouping-half-hotel-edit"},s.a.createElement("label",{className:"input-label-half-hotel-edit"}," Hotel name"),s.a.createElement("label",{className:"input-label-half-hotel-edit"},"City"),s.a.createElement("label",{className:"input-label-half-hotel-edit"},"Country"),s.a.createElement("input",{type:"text",placeholder:"hotel name",value:this.state.hotel.hotel_name||"",onChange:function(t){return e.setData({hotel_name:t.target.value})},className:"input-half-hotel-edit"}),s.a.createElement("input",{type:"text",placeholder:"city",value:this.state.hotel.city||"",onChange:function(t){return e.setData({city:t.target.value})},className:"input-half-hotel-edit"}),s.a.createElement("input",{type:"text",placeholder:"country",value:this.state.hotel.country||"",onChange:function(t){return e.setData({country:t.target.value})},className:"input-half-hotel-edit"})),s.a.createElement("div",{className:"form-grouping-half-hotel-edit"},s.a.createElement("label",{className:"input-label-half-hotel-edit"},"Region "),s.a.createElement("label",{className:"input-label-half-hotel-edit"},"continent"),s.a.createElement("label",{className:"input-label-half-hotel-edit"}," Chain"),s.a.createElement("input",{type:"text",placeholder:"region",value:this.state.hotel.region||"",onChange:function(t){return e.setData({region:t.target.value})},className:"input-half-hotel-edit"}),s.a.createElement("input",{type:"text",placeholder:"continent",value:this.state.hotel.continent||"",onChange:function(t){return e.setData({continent:t.target.value})},className:"input-half-hotel-edit"}),s.a.createElement("input",{type:"text",placeholder:"chain",value:this.state.hotel.chain||"",onChange:function(t){return e.setData({chain:t.target.value})},className:"input-half-hotel-edit"})),s.a.createElement("div",{className:"form-grouping-half-hotel-edit"},s.a.createElement("label",{className:"input-label-half-hotel-edit"},"stars"),s.a.createElement("label",{className:"input-label-half-hotel-edit"}," Address"),s.a.createElement("label",{className:"input-label-half-hotel-edit"},"Email"),s.a.createElement("input",{type:"text",placeholder:"stars",value:this.state.hotel.stars||"",onChange:function(t){return e.setData({stars:t.target.value})},className:"input-half-hotel-edit"}),s.a.createElement("input",{type:"text",placeholder:"address",value:this.state.hotel.address||"",onChange:function(t){return e.setData({address:t.target.value})},className:"input-half-hotel-edit"}),s.a.createElement("input",{type:"text",placeholder:"email",value:this.state.hotel.email||"",onChange:function(t){return e.setData({email:t.target.value})},className:"input-half-hotel-edit"})),s.a.createElement("div",{className:"form-grouping-half-hotel-edit"},s.a.createElement("label",{className:"input-label-half-hotel-edit"}," facebook "),s.a.createElement("label",{className:"input-label-half-hotel-edit"}," Twitter"),s.a.createElement("label",{className:"input-label-half-hotel-edit"},"Youtube"),s.a.createElement("input",{type:"text",placeholder:"facebook",value:this.state.hotel.facebook||"",onChange:function(t){return e.setData({facebook:t.target.value})},className:"input-half-hotel-edit"}),s.a.createElement("input",{type:"text",placeholder:"youtube",value:this.state.hotel.youtube||"",onChange:function(t){return e.setData({youtube:t.target.value})},className:"input-half-hotel-edit"}),s.a.createElement("input",{type:"text",placeholder:"trip_advisor_url",value:this.state.hotel.trip_advisor_url||"",onChange:function(t){return e.setData({trip_advisor_url:t.target.value})},className:"input-half-hotel-edit"})),s.a.createElement("div",{className:"form-one-item-hotel-edit"},s.a.createElement("label",{className:"input-label-half-hotel-edit"}," Trip Advisor Url"),s.a.createElement("input",{type:"text",placeholder:"trip_advisor_url",value:this.state.hotel.trip_advisor_url||"",onChange:function(t){return e.setData({trip_advisor_url:t.target.value})},className:"input-half-hotel-edit"})),s.a.createElement("div",{className:"form-one-item-hotel-edit"},s.a.createElement("label",{className:"input-label-half-hotel-edit"},"image"),s.a.createElement(Ke.a,{onChange:this.upload,label:"Max file size: 2MB | Allowed formats: jpg, png",maxFileSize:"2097152",name:"image"})),s.a.createElement("button",{onClick:this.send},s.a.createElement("img",{src:"/img/ui/valid.png"}),"Confirm")))}}]),t}(n.Component);Kt.contextType=x;var Wt=Kt,Yt=(a(442),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={role:2,approved:1,hotel_id:n.context.hotel_id[0],employee:{},logs:[]},n.edit=n.edit.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("logs",{user_id:this.props.match.params.id}));case 2:e=t.sent,this.setState({logs:e.data});case 4:case"end":return t.stop()}}),null,this)}},{key:"edit",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(f("user/"+this.props.match.params.id,Object(u.a)({},this.state),"PUT"));case 2:e.sent.data?window.location.href="/employees":alert("There has been an error please try again");case 4:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",{className:"employee-form-add"},s.a.createElement("div",{className:"employee-header"},s.a.createElement("div",{className:"employee-header_title"},"Employee Log")),s.a.createElement("div",{className:"employee-inputs"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Log"))),s.a.createElement("tbody",null,this.state.logs.map((function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,e.text+" on "+new Date(1e3*e.created_at)))}))))))}}]),t}(n.Component));Yt.contextType=x;var Zt=Yt,Jt=(a(443),function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={id:n.props.match.params.id,data:{id:n.id}},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"setData",value:function(e){this.setState({data:Object(u.a)({},this.state.data,{},e)})}},{key:"send",value:function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(this.state.data),a.next=3,c.a.awrap(f("post/"+this.state.id,this.state.data,"PUT"));case 3:if(!this.state.data.title_fr){a.next=13;break}return(e={post_id:this.state.id}).title=this.state.data.title_fr,e.description=this.state.data.description_fr||"",e.lang_iso="fr",e.summery=this.state.data.summery_fr||"",a.next=11,c.a.awrap(f("posts_translate",e,"POST"));case 11:t=a.sent,console.log(t);case 13:case"end":return a.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("post/"+this.state.id));case 2:e=t.sent,this.setState({data:e.data[0]});case 4:case"end":return t.stop()}}),null,this)}},{key:"ellipsis",value:function(e){return(e=String(e)).substring(0,3)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"restaurant-form-container"},s.a.createElement("div",{className:"restaurant-left-preview"},s.a.createElement("div",{className:"restaurant-arrow-right",style:{display:this.state.data.image?"":"none"}}),s.a.createElement("img",{src:"/img/ui/c15pro.png",alt:"phone_photo",className:"restaurant-c15-phone"}),s.a.createElement("div",{className:"restaurant-preview-box"},s.a.createElement("p",{style:{color:this.props.themeColor}},this.state.data.title),s.a.createElement("img",{src:this.state.data.image?this.state.data.image:"/img/ui/no-photo.png",style:{borderLeft:this.state.data.image?"":"1px dashed gray"},alt:"Preview Template"}))),s.a.createElement(qe,{data:this.state.data,send:this.send},s.a.createElement(We,{title:"Image + Title",setData:this.setData,data:this.state.data}),s.a.createElement(Ye,{title:"Description",setData:this.setData,data:this.state.data}))))}}]),t}(n.Component));Jt.contextType=x;a(144),a(444);var Xt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).SetSeen=function(){U.database().ref("Chats").orderByChild("sender").equalTo(a.props.inBox.inBox).on("child_added",(function(e){e.ref.update({isseen:"true"})}))},a.state={chats:Object(u.a)({},a.props.chats),inBox:Object(u.a)({},a.props.inBox),count:""},a.SetSeen=a.SetSeen.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props.inBox.inBox,"inbox2"),console.log(this.props.me,"this.props.me]"),console.log(this.props.tourists.id,"mutourists"),console.log(this.props.chat.sender,"sendertourists"),console.log(this.props.chat.receiver,"reccccccc"),console.log(this.props.chats,"chats f coontact"),console.log(this.props.chats.filter((function(t){return t.sender==e.props.chat.sender})),"chats filtrer coontact");var t=this.props.chats.filter((function(t){return t.sender==e.props.chat.sender}));return console.log(t,"allMsgSender"),console.log(t.filter((function(e){return"false"==e.isseen})),"msg not seen"),console.log(this.props.inBox.inBox,"inbox3"),s.a.createElement("div",{className:"InboxContainer",onClick:function(){e.props.setInBox({inBox:e.props.chat.sender}).then((function(){e.SetSeen()}))}},s.a.createElement("div",{className:"ImageMsg"},s.a.createElement("img",{src:"/img/chat/contact.png",className:"imgContact"})),s.a.createElement("div",{className:"TextMsg"},this.props.tourists.map((function(t){return t.id==e.props.chat.sender?s.a.createElement("p",{className:"nameContact"}," ",t.nom):""})),s.a.createElement("p",{className:"msgContact"},this.props.chat.message)),s.a.createElement("div",{className:"msg_not_seen"},s.a.createElement(M.a,{count:t.filter((function(e){return"false"==e.isseen})).length,effect:I.Effect.SCALE})))}}]),t}(n.Component),$t=Object(H.g)(Xt),Qt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={chats:Object(u.a)({},a.props.chats),inBox:Object(u.a)({},a.props.inBox),gotData:function(e){var t=e.val();console.log(t,"hhhh"),a.setState({tourists:Object.keys(t).map((function(e){return t[e]}))})},tourists:[]},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(e){console.log("Error!")},t.next=3,c.a.awrap(U.database().ref("Tourists").on("value",this.state.gotData,e));case 3:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.props.chats.reduce((function(e,t){return e[t.sender]=e[t.sender]||{data:[]},e[t.sender].data.push({sender:t.sender,message:t.message,time:t.time,receiver:t.receiver,hotel_id:t.hotel_id,isseen:t.isseen}),e[t.sender].data.sort((function(e,t){return new Date(t.time)-new Date(e.time)})),e}),{}),a=Object.values(t).map((function(e){return e.data[0]}));return s.a.createElement("div",{className:"mainContact"},s.a.createElement("div",{className:"searchContact"},s.a.createElement("input",{placeholder:"Search"})),s.a.createElement("div",{className:"contactList"},a.map((function(t){return s.a.createElement($t,{chat:t,inBox:e.props.inBox,setInBox:e.props.setInBox,tourists:e.state.tourists.filter((function(t){return t.hotel_id==e.context.hotel_id[0]})),chats:e.props.chats})}))))}}]),t}(n.Component);Qt.contextType=x;var ea=Qt,ta=(a(445),function(e){function t(e){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.msg.isseen?"sof":"mar",console.log(this.props.msg,"this.props.msg"),s.a.createElement("div",{className:"sendContainer"},s.a.createElement("div",{className:"sendHeader"},s.a.createElement("p",{className:"time"},this.props.msg.time)),s.a.createElement("div",{className:"sendcontaint"},s.a.createElement("div",{className:"messageSend"},s.a.createElement("p",null," ",this.props.msg.message," "),s.a.createElement(k.a,{src:"/img/chat/seen.svg",className:"svgIconSeensend"}))))}}]),t}(n.Component)),aa=(a(446),function(e){function t(e){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ReceiverContainer"},s.a.createElement("div",{className:"ReceiverHeader"},s.a.createElement("p",{className:"time"}," ",this.props.msg.time," ")),s.a.createElement("div",{className:"Receivercontaint"},s.a.createElement("div",{className:"message"},s.a.createElement("p",null," ",this.props.msg.message))))}}]),t}(n.Component)),na=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).Submit=function(e){e.preventDefault(),U.database().ref("Chats").push({message:a.state.message,receiver:a.props.inBox.inBox,sender:a.props.users.id,time:(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds()+" "+(new Date).getDate()+"/"+(new Date).getMonth()+"/"+(new Date).getFullYear(),isseen:"false",hotel_id:a.context.hotel_id[0]})},a.state={chats:Object(u.a)({},a.props.chats),inBox:Object(u.a)({},a.props.inBox),users:Object(u.a)({},a.props.users),message:""},a.Submit=a.Submit.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.chats.filter((function(t){return t.sender==e.props.inBox.inBox}));console.log((new Date).getHours()+":"+(new Date).getMinutes()+"/"+(new Date).getDate()+"/"+(new Date).getMonth()+"/"+(new Date).getFullYear(),"time"),console.log(t,"resultresult"),console.log(this.props.chats,"chatsmessage"),console.log(this.props.users.id,"usersusersusersusers22"),console.log(this.state.inBox.inBox,"this.state.inBox.inBox"),console.log(this.props.senderService,"senderServicesenderService"),console.log(this.props.inBox.inBox,"inbox44");var a=this.props.senderService.filter((function(t){return t.receiver==e.props.inBox.inBox}));console.log(a,"showshowshow");var n=this.props.chats.reduce((function(t,a){return(a.receiver==e.props.users.id&&a.sender==e.props.inBox.inBox&&a.hotel_id==e.context.hotel_id[0]||a.receiver==e.props.inBox.inBox&&a.sender==e.props.users.id&&a.hotel_id==e.context.hotel_id[0])&&t.push(a),t}),[]);return console.log(n,"message"),s.a.createElement("div",{className:"messengerContainer"},s.a.createElement("div",{className:"messengerHeader"},s.a.createElement(k.a,{src:"/img/chat/setting.svg",className:"svgIcon"})),s.a.createElement("div",{className:"messengerContainer"},console.log(n,"here"),n.map((function(t){return t.sender==e.props.users.id?s.a.createElement(aa,{msg:t}):s.a.createElement(ta,{msg:t})}))),s.a.createElement("div",{className:"sendContainerMain"},s.a.createElement("div",{className:"messagesend"},s.a.createElement("div",{className:"inputSend"},s.a.createElement("form",{onSubmit:function(t){return e.Submit(t)}},s.a.createElement("input",{placeholder:"Write a message...",className:"msgInput",onChange:function(t){return e.setState({message:t.target.value})}})))),s.a.createElement("div",{className:"messagesendImg"},s.a.createElement("img",{src:"/img/chat/forme-9@2x.png",alt:"send",className:"imgSend",onClick:this.Submit}))))}}]),t}(n.Component);na.contextType=x;var sa=na,ra=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={users:Object(u.a)({},a.props.users)},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.users.id,"message"),s.a.createElement("div",{className:"serviceContainerImage"},s.a.createElement("div",{className:"serviceContainerImage"},s.a.createElement(k.a,{src:"/img/chat/roomService.svg",className:"svgIconService",onClick:function(t){return e.props.setId({id:"OX0pReHXfXUTq1XnOnTSX7moiGp2",username:"Room Service",imageURL:""})}}),s.a.createElement(k.a,{src:"/img/chat/restaurant.svg",className:"svgIconService",onClick:function(t){return e.props.setId({id:"lIZmNj75abRwLDO69sCgq5eZBkC2",username:"Restaurant",imageURL:""})}}),s.a.createElement(k.a,{src:"/img/chat/maintenance.svg",className:"svgIconService",onClick:function(t){return e.props.setId({id:"e7NsTkSI4icHXC6c4iygbStk2Ja2",username:"Maintenance",imageURL:""})}})))}}]),t}(n.Component),ia=(a(447),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={gotData:function(e){var t=e.val();a.setState({users:Object.keys(t).map((function(e){return t[e]}))})},users:[],gotInfo:function(e){var t=e.val();console.log(t,"hhhh"),a.setState({chats:Object.keys(t).map((function(e){return t[e]}))})},chats:[],inBox:"",senderService:[]},a.setId=a.setId.bind(Object(v.a)(a)),a.setInBox=a.setInBox.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){function e(e){console.log("Error!")}U.database().ref("Users").on("value",this.state.gotData,e),U.database().ref("Chats").on("value",this.state.gotInfo,e)}},{key:"setId",value:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(this.setState({users:Object(u.a)({},e)}));case 2:case"end":return t.stop()}}),null,this)}},{key:"setInBox",value:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(this.setState({inBox:Object(u.a)({},e)}));case 2:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.chats.filter((function(t){return t.sender==e.state.users.id}));console.log(t,"sendersendersendersender");var a=this.state.chats.filter((function(t){return t.receiver==e.state.users.id}));console.log(a,"hotelreceiverall");var n=this.state.chats.filter((function(t){return t.receiver==e.state.users.id&&t.hotel_id==e.context.hotel_id[0]}));return console.log(n,"currenthotelreceiver"),console.log(this.state.users.id,"usersusers"),console.log(this.state.users[0],"Userstate00"),console.log(this.state.chats,"chatschatschatschats"),console.log(this.state.chats.isseen,"isseenisseenisseenschatschats"),console.log(this.state.inBox,"lalal"),s.a.createElement("div",{className:"chatContainer"},s.a.createElement("div",{className:"serviceContainer"},s.a.createElement(ra,{users:this.state.users,setId:this.setId})),s.a.createElement("div",{className:"contactContainer"},s.a.createElement(ea,{chats:this.state.chats.filter((function(t){return t.receiver==e.state.users.id&&t.hotel_id==e.context.hotel_id[0]})),inBox:this.state.inBox,setInBox:this.setInBox,users:this.state.users})),s.a.createElement("div",{className:"messageContainer"},s.a.createElement(sa,{users:this.state.users,chats:this.state.chats,senderGuest:this.state.chats.filter((function(t){return t.sender==e.state.inBox.inBox&&t.hotel_id==e.context.hotel_id[0]})),inBox:this.state.inBox,senderService:this.state.chats.filter((function(t){return t.sender==e.state.users.id&&t.hotel_id==e.context.hotel_id[0]}))})))}}]),t}(n.Component));ia.contextType=x;var la=ia,ca=(a(448),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={elements:a.props.children,index:0},a.decrement=a.decrement.bind(Object(v.a)(a)),a.increment=a.increment.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"decrement",value:function(){!this.state.index||this.setState({index:this.state.index-1})}},{key:"increment",value:function(){this.state.index==this.state.elements.length-1||this.setState({index:this.state.index+1})}},{key:"render",value:function(){return console.log(this.props.services,"services in my form"),s.a.createElement("div",{className:"form-navigator-hotel"},s.a.createElement(Fe,{title:this.state.elements[this.state.index].props.title,services:this.props.services},s.a.cloneElement(this.state.elements[this.state.index],{services:this.props.services})),s.a.createElement(He,{send:this.props.send,decrement:this.decrement,index:this.state.index,count:this.state.elements.length,increment:this.increment}))}}]),t}(n.Component)),oa=(a(145),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={services:a.props.services},a.upload=a.upload.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.querySelector(".fileContainer").style.backgroundImage="url(".concat(this.props.services.image||"",")")}},{key:"upload",value:function(e){var t,a;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",document.getElementsByName("image")[0].files[0]),e.next=4,c.a.awrap(b("upload",t,"POST"));case 4:a=e.sent,this.props.setData({image:a.image}),document.querySelector(".fileContainer").style.backgroundImage="url(".concat(a.image,")");case 7:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-grouping-half-hotel-add"},s.a.createElement(Ke.a,{onChange:this.upload,label:"Max file size: 2MB | Allowed formats: jpg, png",maxFileSize:"2097152",name:"image"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"Title",value:this.props.services.title||"",onChange:function(t){return e.props.setData({title:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"categories",value:this.props.services.categories||"",onChange:function(t){return e.props.setData({categories:t.target.value})},className:"input-half-hotel-add"})))}}]),t}(n.Component)),ua=function(e){function t(e){return Object(m.a)(this,t),console.log(e),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-grouping-half-hotel-add"},s.a.createElement("input",{type:"text",required:!0,placeholder:"content_manager",value:this.props.services.content_manager||"",onChange:function(t){return e.props.setData({content_manager:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"type",value:this.props.services.type||"",onChange:function(t){return e.props.setData({type:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"state",value:this.props.services.state||"",onChange:function(t){return e.props.setData({state:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",required:!0,placeholder:"Title Color",value:this.props.services.title_color||"",onChange:function(t){return e.props.setData({title_color:t.target.value})},className:"input-half-hotel-add"})))}}]),t}(n.Component),ma=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={services:{hotel_id:n.context.hotel_id[0],parent_id:n.props.match.params.id}},n.setData=n.setData.bind(Object(v.a)(n)),n.send=n.send.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"setData",value:function(e){this.setState({services:Object(u.a)({},this.state.services,{},e)})}},{key:"send",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(f("post",this.state.services,"POST"));case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(ca,{services:this.state.services,send:this.send},s.a.createElement(oa,{title:"Add Service ",services:this.state.services,setData:this.setData}),s.a.createElement(ua,{title:"Add Service ",services:this.state.services,setData:this.setData})))}}]),t}(n.Component);ma.contextType=x;var ha=ma,pa=(a(449),a(450),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={accept_reservation:1,accept_order:1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-page"},s.a.createElement("div",{className:"form-header"},this.props.title||"Default"),s.a.createElement("div",{className:"form-elements"},this.props.children))}}]),t}(n.Component)),da=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={elements:a.props.children,index:0},console.log(e,"props"),a.decrement=a.decrement.bind(Object(v.a)(a)),a.increment=a.increment.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"decrement",value:function(){!this.state.index||this.setState({index:this.state.index-1})}},{key:"increment",value:function(){this.state.index==this.state.elements.length-1||this.setState({index:this.state.index+1})}},{key:"render",value:function(){return console.log(this.props.service,"postttfromnavigateur"),s.a.createElement("div",{className:"form-navigator-hotel"},s.a.createElement(pa,{title:this.state.elements[this.state.index].props.title},s.a.cloneElement(this.state.elements[this.state.index],{service:this.props.service})),s.a.createElement(He,{send:this.props.send,decrement:this.decrement,index:this.state.index,count:this.state.elements.length,increment:this.increment}))}}]),t}(n.Component),va=function(e){function t(e){var a;return Object(m.a)(this,t),console.log(e),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={service:a.props.service},a.upload=a.upload.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.querySelector(".fileContainer").style.backgroundImage="url(".concat(this.props.service.image||"",")")}},{key:"upload",value:function(e){var t,a;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",document.getElementsByName("image")[0].files[0]),e.next=4,c.a.awrap(b("upload",t,"POST"));case 4:a=e.sent,this.props.setData({image:a.image}),document.querySelector(".fileContainer").style.backgroundImage="url(".concat(a.image,")");case 7:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-grouping-half-hotel-edit"},s.a.createElement("label",null,"Image"),s.a.createElement(Ke.a,{onChange:this.upload,label:"Max file size: 2MB | Allowed formats: jpg, png",maxFileSize:"2097152",name:"image"}),s.a.createElement("label",{className:"input-label-half-hotel-edit"}," Title"),s.a.createElement("label",{className:"input-label-half-hotel-edit"},"Categories"),s.a.createElement("input",{type:"text",placeholder:"Title",value:this.props.service.title||"",onChange:function(t){return e.props.setData({title:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",placeholder:"categories",value:this.props.service.categories||"",onChange:function(t){return e.props.setData({categories:t.target.value})},className:"input-half-hotel-add"})))}}]),t}(n.Component),Ea=function(e){function t(e){var a;return Object(m.a)(this,t),console.log(e),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={service:a.props.service},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-grouping-half-hotel-edit"},s.a.createElement("label",{className:"input-label-half-hotel-edit"}," Content Manager"),s.a.createElement("label",{className:"input-label-half-hotel-edit"},"Type"),s.a.createElement("input",{type:"text",placeholder:"content_manager",value:this.props.service.content_manager||"",onChange:function(t){return e.props.setData({content_manager:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",placeholder:"type",value:this.props.service.type||"",onChange:function(t){return e.props.setData({type:t.target.value})},className:"input-half-hotel-add"})),s.a.createElement("div",{className:"form-grouping-half-hotel-edit"},s.a.createElement("label",{className:"input-label-half-hotel-edit"}," State"),s.a.createElement("label",{className:"input-label-half-hotel-edit"},"Title Color"),s.a.createElement("input",{type:"text",placeholder:"state",value:this.props.service.state||"",onChange:function(t){return e.props.setData({state:t.target.value})},className:"input-half-hotel-add"}),s.a.createElement("input",{type:"text",placeholder:"Title Color",value:this.props.service.title_color||"",onChange:function(t){return e.props.setData({title_color:t.target.value})},className:"input-half-hotel-add"})))}}]),t}(n.Component),ga=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={service:{}},n.send=n.send.bind(Object(v.a)(n)),n.setData=n.setData.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(f("post/"+this.props.match.params.id));case 2:e=t.sent,this.setState({service:e.data[0]}),console.log(this.state,"my state is here ");case 5:case"end":return t.stop()}}),null,this)}},{key:"setData",value:function(e){this.setState({service:Object(u.a)({},this.state.service,{},e)})}},{key:"send",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.service.title){e.next=3;break}return e.next=3,c.a.awrap(f("post/"+this.state.service.id,{title:this.state.service.title},"PUT"));case 3:if(!this.state.service.image){e.next=6;break}return e.next=6,c.a.awrap(f("post/"+this.state.service.id,{image:this.state.service.image},"PUT"));case 6:if(!this.state.service.categories){e.next=9;break}return e.next=9,c.a.awrap(f("post/"+this.state.service.id,{categories:this.state.service.categories},"PUT"));case 9:if(!this.state.service.content_manager){e.next=12;break}return e.next=12,c.a.awrap(f("post/"+this.state.service.id,{content_manager:this.state.service.content_manager},"PUT"));case 12:if(!this.state.service.type){e.next=15;break}return e.next=15,c.a.awrap(f("post/"+this.state.service.id,{type:this.state.service.type},"PUT"));case 15:if(!this.state.service.state){e.next=18;break}return e.next=18,c.a.awrap(f("post/"+this.state.service.id,{state:this.state.service.state},"PUT"));case 18:if(!this.state.service.title_color){e.next=21;break}return e.next=21,c.a.awrap(f("post/"+this.state.service.id,{title_color:this.state.service.title_color},"PUT"));case 21:console.log(this.state,"rani nekhdem"),console.log();case 23:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("div",{className:"tourist-form"},s.a.createElement(da,{service:this.state.service,send:this.send},s.a.createElement(va,{title:"Edit Service ",setData:this.setData,service:this.state.service}),s.a.createElement(Ea,{title:"Edit Service ",setData:this.setData,service:this.state.service})))}}]),t}(n.Component);ga.contextType=x;var fa=ga,ba=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"main-container"},s.a.createElement(H.d,null,s.a.createElement(H.b,{path:"/",exact:!0,component:vt}),s.a.createElement(H.b,{path:"/service",exact:!0,component:te}),s.a.createElement(H.b,{path:"/devices",exact:!0,component:re}),s.a.createElement(H.b,{path:"/tourist",exact:!0,component:oe}),s.a.createElement(H.b,{path:"/employees",exact:!0,component:he}),s.a.createElement(H.b,{path:"/employee/history/:id",exact:!0,component:Zt}),s.a.createElement(H.b,{path:"/extra/:id",exact:!0,component:Lt}),s.a.createElement(H.b,{path:"/statistics",exact:!0,component:pe}),s.a.createElement(H.b,{path:"/rooms",exact:!0,component:Bt}),s.a.createElement(H.b,{path:"/hotels",exact:!0,component:qt}),s.a.createElement(H.b,{path:"/add/service/:id",exact:!0,component:ha}),s.a.createElement(H.b,{path:"/service/:id",component:Pe}),s.a.createElement(H.b,{path:"/restaurant/edit/:id",component:ot}),s.a.createElement(H.b,{path:"/restaurant/:id",component:Ae}),s.a.createElement(H.b,{path:"/category/:id",component:Be}),s.a.createElement(H.b,{path:"/add/dish/:id",component:Xe}),s.a.createElement(H.b,{path:"/add/wellbeing/:id",render:function(e){return s.a.createElement(Xe,Object.assign({},e,{themeColor:"#68a55f"}))}}),s.a.createElement(H.b,{path:"/add/leisure/:id",render:function(e){return s.a.createElement(Xe,Object.assign({},e,{themeColor:"#f36e64"}))}}),s.a.createElement(H.b,{path:"/add/events/:id",render:function(e){return s.a.createElement(Xe,Object.assign({},e,{themeColor:"#a560f6"}))}}),s.a.createElement(H.b,{path:"/add/gallery/:id",component:Xe}),s.a.createElement(H.b,{path:"/add/restaurant/:id",component:rt}),s.a.createElement(H.b,{path:"/add/employee",component:Ct}),s.a.createElement(H.b,{path:"/add/meetings/:id",render:function(e){return s.a.createElement(Xe,Object.assign({},e,{themeColor:"#947e6a"}))}}),s.a.createElement(H.b,{path:"/add/device",component:gt}),s.a.createElement(H.b,{path:"/add/tourist",component:_t}),s.a.createElement(H.b,{path:"/add/room",component:kt}),s.a.createElement(H.b,{path:"/add/extra/:id",component:yt}),s.a.createElement(H.b,{path:"/add/hotel",component:Nt}),s.a.createElement(H.b,{path:"/edit/service/:id",component:fa}),s.a.createElement(H.b,{path:"/edit/device/:id",component:tt}),s.a.createElement(H.b,{path:"/edit/tourist/:id",component:nt}),s.a.createElement(H.b,{path:"/edit/room/:id",component:Ut}),s.a.createElement(H.b,{path:"/extra/edit/:id",component:Dt}),s.a.createElement(H.b,{path:"/edit/hotel/:id",component:Wt}),s.a.createElement(H.b,{path:"/emlpoyee/edit/:id",component:It}),s.a.createElement(H.b,{path:"/dish/edit/:id",render:function(e){return s.a.createElement(ot,Object.assign({},e,{themeColor:"#4bd2bb"}))}}),s.a.createElement(H.b,{path:"/event/edit/:id",render:function(e){return s.a.createElement(ot,Object.assign({},e,{themeColor:"#a560f6"}))}}),s.a.createElement(H.b,{path:"/meeting/edit/:id",render:function(e){return s.a.createElement(ot,Object.assign({},e,{themeColor:"#947e6a"}))}}),s.a.createElement(H.b,{path:"/leisure/edit/:id",render:function(e){return s.a.createElement(ot,Object.assign({},e,{themeColor:"#f36e64"}))}}),s.a.createElement(H.b,{path:"/wellbeing/edit/:id",render:function(e){return s.a.createElement(ot,Object.assign({},e,{themeColor:"#68a55f"}))}}),s.a.createElement(H.b,{path:"/gallery/edit/:id",component:ot}),s.a.createElement(H.b,{path:"/notifications",component:lt}),s.a.createElement(H.b,{path:"/history",component:pt}),s.a.createElement(H.b,{path:"/chat",component:la})))}}]),t}(n.Component),ya=function(e){function t(e,a){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).state={user:n.context,redirect:!1},n.changeUser=n.changeUser.bind(Object(v.a)(n)),n.logOut=n.logOut.bind(Object(v.a)(n)),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"changeUser",value:function(e){var t,a=arguments;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.length>1&&void 0!==a[1]?a[1]:43,console.log(e),this.setState({user:Object(u.a)({},e)}),localStorage.setItem("user",JSON.stringify(e)),3!=e.role){n.next=10;break}return n.next=7,c.a.awrap(f("hotels"));case 7:t=n.sent,e.hotel_id=[44].concat(Object(o.a)(t.data.map((function(e){return e.id})))),console.log(e);case 10:localStorage.setItem("user",JSON.stringify(e)),this.setState({user:Object(u.a)({},e)});case 12:case"end":return n.stop()}}),null,this)}},{key:"logOut",value:function(){this.setState({user:{auth:!1}}),localStorage.setItem("user",JSON.stringify({auth:!1}))}},{key:"render",value:function(){var e=this;return s.a.createElement(j.a,null,s.a.createElement(x.Provider,{value:this.state.user},s.a.createElement(x.Consumer,null,(function(t){return t.auth?s.a.createElement(s.a.Fragment,null,s.a.createElement(W,{changeUser:e.changeUser,user:t}),s.a.createElement(S,{logOut:e.logOut,user:t}),s.a.createElement(ba,null)):s.a.createElement(Z,{changeUser:e.changeUser})}))))}}]),t}(n.Component);ya.contextType=x;var xa=ya;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(xa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[153,1,2]]]);
//# sourceMappingURL=main.000a0fa0.chunk.js.map